<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>SPI_freetuptable</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.5.4 Documentation"
HREF="index.html"><LINK
REL="UP"
TITLE="Memory Management"
HREF="spi-memory.html"><LINK
REL="PREVIOUS"
TITLE="SPI_freetuple"
HREF="spi-spi-freetuple.html"><LINK
REL="NEXT"
TITLE="SPI_freeplan"
HREF="spi-spi-freeplan.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=ISO-8859-1"><META
NAME="creation"
CONTENT="2016-08-08T20:44:24"></HEAD
><BODY
CLASS="REFENTRY"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.5.4 Documentation</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="SPI_freetuple"
HREF="spi-spi-freetuple.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="spi-memory.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="SPI_freeplan"
HREF="spi-spi-freeplan.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="SPI-SPI-FREETUPLETABLE"
></A
>SPI_freetuptable</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN68355"
></A
><H2
>Name</H2
>SPI_freetuptable&nbsp;--&nbsp;free a row set created by <CODE
CLASS="FUNCTION"
>SPI_execute</CODE
> or a similar
  function</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN68359"
></A
><H2
>Synopsis</H2
><PRE
CLASS="SYNOPSIS"
>void SPI_freetuptable(SPITupleTable * <TT
CLASS="PARAMETER"
>tuptable</TT
>)</PRE
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN68362"
></A
><H2
>Description</H2
><P
>   <CODE
CLASS="FUNCTION"
>SPI_freetuptable</CODE
> frees a row set created by a
   prior SPI command execution function, such as
   <CODE
CLASS="FUNCTION"
>SPI_execute</CODE
>.  Therefore, this function is often called
   with the global variable <TT
CLASS="VARNAME"
>SPI_tuptable</TT
> as
   argument.
  </P
><P
>   This function is useful if a SPI procedure needs to execute
   multiple commands and does not want to keep the results of earlier
   commands around until it ends.  Note that any unfreed row sets will
   be freed anyway at <CODE
CLASS="FUNCTION"
>SPI_finish</CODE
>.
   Also, if a subtransaction is started and then aborted within execution
   of a SPI procedure, SPI automatically frees any row sets created while
   the subtransaction was running.
  </P
><P
>   Beginning in <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 9.3,
   <CODE
CLASS="FUNCTION"
>SPI_freetuptable</CODE
> contains guard logic to protect
   against duplicate deletion requests for the same row set.  In previous
   releases, duplicate deletions would lead to crashes.
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN68373"
></A
><H2
>Arguments</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="LITERAL"
>SPITupleTable * <TT
CLASS="PARAMETER"
>tuptable</TT
></TT
></DT
><DD
><P
>      pointer to row set to free, or NULL to do nothing
     </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="spi-spi-freetuple.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="spi-spi-freeplan.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>SPI_freetuple</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="spi-memory.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>SPI_freeplan</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>