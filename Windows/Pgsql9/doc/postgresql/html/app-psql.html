<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>psql</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.5.4 Documentation"
HREF="index.html"><LINK
REL="UP"
TITLE="PostgreSQL Client Applications"
HREF="reference-client.html"><LINK
REL="PREVIOUS"
TITLE="pg_restore"
HREF="app-pgrestore.html"><LINK
REL="NEXT"
TITLE="reindexdb"
HREF="app-reindexdb.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=ISO-8859-1"><META
NAME="creation"
CONTENT="2016-08-08T20:44:24"></HEAD
><BODY
CLASS="REFENTRY"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.5.4 Documentation</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="pg_restore"
HREF="app-pgrestore.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="reference-client.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="reindexdb"
HREF="app-reindexdb.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="APP-PSQL"
></A
><SPAN
CLASS="APPLICATION"
>psql</SPAN
></H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN94509"
></A
><H2
>Name</H2
><SPAN
CLASS="APPLICATION"
>psql</SPAN
>&nbsp;--&nbsp;      <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> interactive terminal
    </DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN94514"
></A
><H2
>Synopsis</H2
><P
><TT
CLASS="COMMAND"
>psql</TT
> [<TT
CLASS="REPLACEABLE"
><I
>option</I
></TT
>...] [<TT
CLASS="REPLACEABLE"
><I
>dbname</I
></TT
>
    [<TT
CLASS="REPLACEABLE"
><I
>username</I
></TT
>]]</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN94523"
></A
><H2
>Description</H2
><P
>     <SPAN
CLASS="APPLICATION"
>psql</SPAN
> is a terminal-based front-end to
     <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>. It enables you to type in
     queries interactively, issue them to
     <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>, and see the query results.
     Alternatively, input can be from a file. In addition, it provides a
     number of meta-commands and various shell-like features to
     facilitate writing scripts and automating a wide variety of tasks.
    </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-APP-PSQL-3"
></A
><H2
>Options</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="OPTION"
>-a</TT
><BR><TT
CLASS="OPTION"
>--echo-all</TT
></DT
><DD
><P
>      Print all nonempty input lines to standard output as they are read.
      (This does not apply to lines read interactively.) This is
      equivalent to setting the variable <TT
CLASS="VARNAME"
>ECHO</TT
> to
      <TT
CLASS="LITERAL"
>all</TT
>.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-A</TT
><BR><TT
CLASS="OPTION"
>--no-align</TT
></DT
><DD
><P
>      Switches to unaligned output mode. (The default output mode is
      otherwise aligned.)
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-b</TT
><BR><TT
CLASS="OPTION"
>--echo-errors</TT
></DT
><DD
><P
>      Print failed SQL commands to standard error output. This is
      equivalent to setting the variable <TT
CLASS="VARNAME"
>ECHO</TT
> to
      <TT
CLASS="LITERAL"
>errors</TT
>.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-c <TT
CLASS="REPLACEABLE"
><I
>command</I
></TT
></TT
><BR><TT
CLASS="OPTION"
>--command=<TT
CLASS="REPLACEABLE"
><I
>command</I
></TT
></TT
></DT
><DD
><P
>      Specifies that <SPAN
CLASS="APPLICATION"
>psql</SPAN
> is to execute one
      command string, <TT
CLASS="REPLACEABLE"
><I
>command</I
></TT
>,
      and then exit. This is useful in shell scripts. Start-up files
      (<TT
CLASS="FILENAME"
>psqlrc</TT
> and <TT
CLASS="FILENAME"
>~/.psqlrc</TT
>) are
      ignored with this option.
      </P
><P
>      <TT
CLASS="REPLACEABLE"
><I
>command</I
></TT
> must be either
      a command string that is completely parsable by the server (i.e.,
      it contains no <SPAN
CLASS="APPLICATION"
>psql</SPAN
>-specific features),
      or a single backslash command. Thus you cannot mix
      <ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
> and <SPAN
CLASS="APPLICATION"
>psql</SPAN
>
      meta-commands with this option. To achieve that, you could
      pipe the string into <SPAN
CLASS="APPLICATION"
>psql</SPAN
>, for example:
      <TT
CLASS="LITERAL"
>echo '\x \\ SELECT * FROM foo;' | psql</TT
>.
      (<TT
CLASS="LITERAL"
>\\</TT
> is the separator meta-command.)
      </P
><P
>       If the command string contains multiple SQL commands, they are
       processed in a single transaction, unless there are explicit
       <TT
CLASS="COMMAND"
>BEGIN</TT
>/<TT
CLASS="COMMAND"
>COMMIT</TT
> commands included in the
       string to divide it into multiple transactions.  This is
       different from the behavior when the same string is fed to
       <SPAN
CLASS="APPLICATION"
>psql</SPAN
>'s standard input.  Also, only
       the result of the last SQL command is returned.
      </P
><P
>       Because of these legacy behaviors, putting more than one command in
       the <TT
CLASS="OPTION"
>-c</TT
> string often has unexpected results.  It's
       better to feed multiple commands to <SPAN
CLASS="APPLICATION"
>psql</SPAN
>'s
       standard input, either using <SPAN
CLASS="APPLICATION"
>echo</SPAN
> as
       illustrated above, or via a shell here-document, for example:
</P><PRE
CLASS="PROGRAMLISTING"
>psql &lt;&lt;EOF
\x
SELECT * FROM foo;
EOF</PRE
><P>
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-d <TT
CLASS="REPLACEABLE"
><I
>dbname</I
></TT
></TT
><BR><TT
CLASS="OPTION"
>--dbname=<TT
CLASS="REPLACEABLE"
><I
>dbname</I
></TT
></TT
></DT
><DD
><P
>       Specifies the name of the database to connect to. This is
       equivalent to specifying <TT
CLASS="REPLACEABLE"
><I
>dbname</I
></TT
> as the first non-option
       argument on the command line.
      </P
><P
>       If this parameter contains an <TT
CLASS="SYMBOL"
>=</TT
> sign or starts
       with a valid <ACRONYM
CLASS="ACRONYM"
>URI</ACRONYM
> prefix
       (<TT
CLASS="LITERAL"
>postgresql://</TT
>
       or <TT
CLASS="LITERAL"
>postgres://</TT
>), it is treated as a
       <TT
CLASS="PARAMETER"
>conninfo</TT
> string. See <A
HREF="libpq-connect.html#LIBPQ-CONNSTRING"
>Section 31.1.1</A
> for more information.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-e</TT
><BR><TT
CLASS="OPTION"
>--echo-queries</TT
></DT
><DD
><P
>      Copy all SQL commands sent to the server to standard output as well.
      This is equivalent
      to setting the variable <TT
CLASS="VARNAME"
>ECHO</TT
> to
      <TT
CLASS="LITERAL"
>queries</TT
>.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-E</TT
><BR><TT
CLASS="OPTION"
>--echo-hidden</TT
></DT
><DD
><P
>      Echo the actual queries generated by <TT
CLASS="COMMAND"
>\d</TT
> and other backslash
      commands. You can use this to study <SPAN
CLASS="APPLICATION"
>psql</SPAN
>'s
      internal operations. This is equivalent to
      setting the variable <TT
CLASS="VARNAME"
>ECHO_HIDDEN</TT
> to <TT
CLASS="LITERAL"
>on</TT
>.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-f <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
></TT
><BR><TT
CLASS="OPTION"
>--file=<TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
></TT
></DT
><DD
><P
>      Use the file <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
>
      as the source of commands instead of reading commands interactively.
      After the file is processed, <SPAN
CLASS="APPLICATION"
>psql</SPAN
>
      terminates. This is in many ways equivalent to the meta-command
      <TT
CLASS="COMMAND"
>\i</TT
>.
      </P
><P
>       If <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
> is <TT
CLASS="LITERAL"
>-</TT
>
       (hyphen), then standard input is read until an EOF indication
       or <TT
CLASS="COMMAND"
>\q</TT
> meta-command.  Note however that Readline
       is not used in this case (much as if <TT
CLASS="OPTION"
>-n</TT
> had been
       specified).
      </P
><P
>      Using this option is subtly different from writing <TT
CLASS="LITERAL"
>psql
      &lt; <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
></TT
>. In general,
      both will do what you expect, but using <TT
CLASS="LITERAL"
>-f</TT
>
      enables some nice features such as error messages with line
      numbers. There is also a slight chance that using this option will
      reduce the start-up overhead. On the other hand, the variant using
      the shell's input redirection is (in theory) guaranteed to yield
      exactly the same output you would have received had you entered
      everything by hand.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-F <TT
CLASS="REPLACEABLE"
><I
>separator</I
></TT
></TT
><BR><TT
CLASS="OPTION"
>--field-separator=<TT
CLASS="REPLACEABLE"
><I
>separator</I
></TT
></TT
></DT
><DD
><P
>      Use <TT
CLASS="REPLACEABLE"
><I
>separator</I
></TT
> as the
      field separator for unaligned output. This is equivalent to
      <TT
CLASS="COMMAND"
>\pset fieldsep</TT
> or <TT
CLASS="COMMAND"
>\f</TT
>.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-h <TT
CLASS="REPLACEABLE"
><I
>hostname</I
></TT
></TT
><BR><TT
CLASS="OPTION"
>--host=<TT
CLASS="REPLACEABLE"
><I
>hostname</I
></TT
></TT
></DT
><DD
><P
>      Specifies the host name of the machine on which the
      server is running. If the value begins
      with a slash, it is used as the directory for the Unix-domain
      socket.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-H</TT
><BR><TT
CLASS="OPTION"
>--html</TT
></DT
><DD
><P
>      Turn on <ACRONYM
CLASS="ACRONYM"
>HTML</ACRONYM
> tabular output. This is
      equivalent to <TT
CLASS="LITERAL"
>\pset format html</TT
> or the
      <TT
CLASS="COMMAND"
>\H</TT
> command.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-l</TT
><BR><TT
CLASS="OPTION"
>--list</TT
></DT
><DD
><P
>      List all available databases, then exit. Other non-connection
      options are ignored. This is similar to the meta-command
      <TT
CLASS="COMMAND"
>\list</TT
>.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-L <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
></TT
><BR><TT
CLASS="OPTION"
>--log-file=<TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
></TT
></DT
><DD
><P
>       Write all query output into file <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
>, in addition to the
       normal output destination.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-n</TT
><BR><TT
CLASS="OPTION"
>--no-readline</TT
></DT
><DD
><P
>       Do not use <SPAN
CLASS="APPLICATION"
>Readline</SPAN
> for line editing and do
       not use the command history.
       This can be useful to turn off tab expansion when cutting and pasting.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-o <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
></TT
><BR><TT
CLASS="OPTION"
>--output=<TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
></TT
></DT
><DD
><P
>      Put all query output into file <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
>. This is equivalent to
      the command <TT
CLASS="COMMAND"
>\o</TT
>.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-p <TT
CLASS="REPLACEABLE"
><I
>port</I
></TT
></TT
><BR><TT
CLASS="OPTION"
>--port=<TT
CLASS="REPLACEABLE"
><I
>port</I
></TT
></TT
></DT
><DD
><P
>      Specifies the TCP port or the local Unix-domain
      socket file extension on which the server is listening for
      connections. Defaults to the value of the <TT
CLASS="ENVAR"
>PGPORT</TT
>
      environment variable or, if not set, to the port specified at
      compile time, usually 5432.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-P <TT
CLASS="REPLACEABLE"
><I
>assignment</I
></TT
></TT
><BR><TT
CLASS="OPTION"
>--pset=<TT
CLASS="REPLACEABLE"
><I
>assignment</I
></TT
></TT
></DT
><DD
><P
>      Specifies printing options, in the style of
      <TT
CLASS="COMMAND"
>\pset</TT
>. Note that here you
      have to separate name and value with an equal sign instead of a
      space. For example, to set the output format to <SPAN
CLASS="APPLICATION"
>LaTeX</SPAN
>, you could write
      <TT
CLASS="LITERAL"
>-P format=latex</TT
>.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-q</TT
><BR><TT
CLASS="OPTION"
>--quiet</TT
></DT
><DD
><P
>      Specifies that <SPAN
CLASS="APPLICATION"
>psql</SPAN
> should do its work
      quietly. By default, it prints welcome messages and various
      informational output. If this option is used, none of this
      happens. This is useful with the <TT
CLASS="OPTION"
>-c</TT
> option.
      This is equivalent to setting the variable <TT
CLASS="VARNAME"
>QUIET</TT
>
      to <TT
CLASS="LITERAL"
>on</TT
>.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-R <TT
CLASS="REPLACEABLE"
><I
>separator</I
></TT
></TT
><BR><TT
CLASS="OPTION"
>--record-separator=<TT
CLASS="REPLACEABLE"
><I
>separator</I
></TT
></TT
></DT
><DD
><P
>      Use <TT
CLASS="REPLACEABLE"
><I
>separator</I
></TT
> as the
      record separator for unaligned output. This is equivalent to the
      <TT
CLASS="COMMAND"
>\pset recordsep</TT
> command.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-s</TT
><BR><TT
CLASS="OPTION"
>--single-step</TT
></DT
><DD
><P
>      Run in single-step mode. That means the user is prompted before
      each command is sent to the server, with the option to cancel
      execution as well. Use this to debug scripts.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-S</TT
><BR><TT
CLASS="OPTION"
>--single-line</TT
></DT
><DD
><P
>      Runs in single-line mode where a newline terminates an SQL command, as a
      semicolon does.
      </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>      This mode is provided for those who insist on it, but you are not
      necessarily encouraged to use it. In particular, if you mix
      <ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
> and meta-commands on a line the order of
      execution might not always be clear to the inexperienced user.
      </P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="OPTION"
>-t</TT
><BR><TT
CLASS="OPTION"
>--tuples-only</TT
></DT
><DD
><P
>      Turn off printing of column names and result row count footers,
      etc. This is equivalent to the <TT
CLASS="COMMAND"
>\t</TT
> command.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-T <TT
CLASS="REPLACEABLE"
><I
>table_options</I
></TT
></TT
><BR><TT
CLASS="OPTION"
>--table-attr=<TT
CLASS="REPLACEABLE"
><I
>table_options</I
></TT
></TT
></DT
><DD
><P
>      Specifies options to be placed within the
      <ACRONYM
CLASS="ACRONYM"
>HTML</ACRONYM
> <CODE
CLASS="SGMLTAG"
>table</CODE
> tag. See
      <TT
CLASS="COMMAND"
>\pset</TT
> for details.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-U <TT
CLASS="REPLACEABLE"
><I
>username</I
></TT
></TT
><BR><TT
CLASS="OPTION"
>--username=<TT
CLASS="REPLACEABLE"
><I
>username</I
></TT
></TT
></DT
><DD
><P
>      Connect to the database as the user <TT
CLASS="REPLACEABLE"
><I
>username</I
></TT
> instead of the default.
      (You must have permission to do so, of course.)
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-v <TT
CLASS="REPLACEABLE"
><I
>assignment</I
></TT
></TT
><BR><TT
CLASS="OPTION"
>--set=<TT
CLASS="REPLACEABLE"
><I
>assignment</I
></TT
></TT
><BR><TT
CLASS="OPTION"
>--variable=<TT
CLASS="REPLACEABLE"
><I
>assignment</I
></TT
></TT
></DT
><DD
><P
>      Perform a variable assignment, like the <TT
CLASS="COMMAND"
>\set</TT
>
      meta-command. Note that you must separate name and value, if
      any, by an equal sign on the command line. To unset a variable,
      leave off the equal sign. To set a variable with an empty value,
      use the equal sign but leave off the value. These assignments are
      done during a very early stage of start-up, so variables reserved
      for internal purposes might get overwritten later.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-V</TT
><BR><TT
CLASS="OPTION"
>--version</TT
></DT
><DD
><P
>      Print the <SPAN
CLASS="APPLICATION"
>psql</SPAN
> version and exit.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-w</TT
><BR><TT
CLASS="OPTION"
>--no-password</TT
></DT
><DD
><P
>       Never issue a password prompt.  If the server requires password
       authentication and a password is not available by other means
       such as a <TT
CLASS="FILENAME"
>.pgpass</TT
> file, the connection
       attempt will fail.  This option can be useful in batch jobs and
       scripts where no user is present to enter a password.
      </P
><P
>       Note that this option will remain set for the entire session,
       and so it affects uses of the meta-command
       <TT
CLASS="COMMAND"
>\connect</TT
> as well as the initial connection attempt.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-W</TT
><BR><TT
CLASS="OPTION"
>--password</TT
></DT
><DD
><P
>       Force <SPAN
CLASS="APPLICATION"
>psql</SPAN
> to prompt for a
       password before connecting to a database.
      </P
><P
>       This option is never essential, since <SPAN
CLASS="APPLICATION"
>psql</SPAN
>
       will automatically prompt for a password if the server demands
       password authentication.  However, <SPAN
CLASS="APPLICATION"
>psql</SPAN
>
       will waste a connection attempt finding out that the server wants a
       password.  In some cases it is worth typing <TT
CLASS="OPTION"
>-W</TT
> to avoid
       the extra connection attempt.
      </P
><P
>       Note that this option will remain set for the entire session,
       and so it affects uses of the meta-command
       <TT
CLASS="COMMAND"
>\connect</TT
> as well as the initial connection attempt.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-x</TT
><BR><TT
CLASS="OPTION"
>--expanded</TT
></DT
><DD
><P
>      Turn on the expanded table formatting mode. This is equivalent to the
      <TT
CLASS="COMMAND"
>\x</TT
> command.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-X,</TT
><BR><TT
CLASS="OPTION"
>--no-psqlrc</TT
></DT
><DD
><P
>      Do not read the start-up file (neither the system-wide
      <TT
CLASS="FILENAME"
>psqlrc</TT
> file nor the user's
      <TT
CLASS="FILENAME"
>~/.psqlrc</TT
> file).
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-z</TT
><BR><TT
CLASS="OPTION"
>--field-separator-zero</TT
></DT
><DD
><P
>      Set the field separator for unaligned output to a zero byte.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-0</TT
><BR><TT
CLASS="OPTION"
>--record-separator-zero</TT
></DT
><DD
><P
>      Set the record separator for unaligned output to a zero byte.  This is
      useful for interfacing, for example, with <TT
CLASS="LITERAL"
>xargs -0</TT
>.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-1</TT
><BR><TT
CLASS="OPTION"
>--single-transaction</TT
></DT
><DD
><P
>        When <SPAN
CLASS="APPLICATION"
>psql</SPAN
> executes a script, adding
        this option wraps <TT
CLASS="COMMAND"
>BEGIN</TT
>/<TT
CLASS="COMMAND"
>COMMIT</TT
> around the
        script to execute it as a single transaction.  This ensures that
        either all the commands complete successfully, or no changes are
        applied.
       </P
><P
>        If the script itself uses <TT
CLASS="COMMAND"
>BEGIN</TT
>, <TT
CLASS="COMMAND"
>COMMIT</TT
>,
        or <TT
CLASS="COMMAND"
>ROLLBACK</TT
>, this option will not have the desired
        effects.
        Also, if the script contains any command that cannot be executed
        inside a transaction block, specifying this option will cause that
        command (and hence the whole transaction) to fail.
       </P
></DD
><DT
><TT
CLASS="OPTION"
>-?</TT
><BR><TT
CLASS="OPTION"
>--help[=<TT
CLASS="REPLACEABLE"
><I
>topic</I
></TT
>]</TT
></DT
><DD
><P
>      Show help about <SPAN
CLASS="APPLICATION"
>psql</SPAN
> and exit. The optional
      <TT
CLASS="REPLACEABLE"
><I
>topic</I
></TT
> parameter (defaulting
      to <TT
CLASS="LITERAL"
>options</TT
>) selects which part of <SPAN
CLASS="APPLICATION"
>psql</SPAN
> is
      explained: <TT
CLASS="LITERAL"
>commands</TT
> describes <SPAN
CLASS="APPLICATION"
>psql</SPAN
>'s
      backslash commands; <TT
CLASS="LITERAL"
>options</TT
> describes the command-line
      options that can be passed to <SPAN
CLASS="APPLICATION"
>psql</SPAN
>;
      and <TT
CLASS="LITERAL"
>variables</TT
> shows help about <SPAN
CLASS="APPLICATION"
>psql</SPAN
> configuration
      variables.
      </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN94913"
></A
><H2
>Exit Status</H2
><P
>   <SPAN
CLASS="APPLICATION"
>psql</SPAN
> returns 0 to the shell if it
   finished normally, 1 if a fatal error of its own occurs (e.g. out of memory,
   file not found), 2 if the connection to the server went bad
   and the session was not interactive, and 3 if an error occurred in a
   script and the variable <TT
CLASS="VARNAME"
>ON_ERROR_STOP</TT
> was set.
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN94918"
></A
><H2
>Usage</H2
><DIV
CLASS="REFSECT2"
><A
NAME="R2-APP-PSQL-CONNECTING"
></A
><H3
>Connecting to a Database</H3
><P
>    <SPAN
CLASS="APPLICATION"
>psql</SPAN
> is a regular
    <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> client application. In order
    to connect to a database you need to know the name of your target
    database, the host name and port number of the server, and what user
    name you want to connect as. <SPAN
CLASS="APPLICATION"
>psql</SPAN
> can be
    told about those parameters via command line options, namely
    <TT
CLASS="OPTION"
>-d</TT
>, <TT
CLASS="OPTION"
>-h</TT
>, <TT
CLASS="OPTION"
>-p</TT
>, and
    <TT
CLASS="OPTION"
>-U</TT
> respectively. If an argument is found that does
    not belong to any option it will be interpreted as the database name
    (or the user name, if the database name is already given). Not all
    of these options are required; there are useful defaults. If you omit the host
    name, <SPAN
CLASS="APPLICATION"
>psql</SPAN
> will connect via a Unix-domain socket
    to a server on the local host, or via TCP/IP to <TT
CLASS="LITERAL"
>localhost</TT
> on
    machines that don't have Unix-domain sockets. The default port number is
    determined at compile time.
    Since the database server uses the same default, you will not have
    to specify the port in most cases. The default user name is your
    operating-system user name, as is the default database name.
    Note that you cannot
    just connect to any database under any user name. Your database
    administrator should have informed you about your access rights.
    </P
><P
>    When the defaults aren't quite right, you can save yourself
    some typing by setting the environment variables
    <TT
CLASS="ENVAR"
>PGDATABASE</TT
>, <TT
CLASS="ENVAR"
>PGHOST</TT
>,
    <TT
CLASS="ENVAR"
>PGPORT</TT
> and/or <TT
CLASS="ENVAR"
>PGUSER</TT
> to appropriate
    values. (For additional environment variables, see <A
HREF="libpq-envars.html"
>Section 31.14</A
>.) It is also convenient to have a
    <TT
CLASS="FILENAME"
>~/.pgpass</TT
> file to avoid regularly having to type in
    passwords. See <A
HREF="libpq-pgpass.html"
>Section 31.15</A
> for more information.
    </P
><P
>     An alternative way to specify connection parameters is in a
     <TT
CLASS="PARAMETER"
>conninfo</TT
> string or
     a <ACRONYM
CLASS="ACRONYM"
>URI</ACRONYM
>, which is used instead of a database
     name. This mechanism give you very wide control over the
     connection. For example:
</P><PRE
CLASS="PROGRAMLISTING"
>$ <KBD
CLASS="USERINPUT"
>psql "service=myservice sslmode=require"</KBD
>
$ <KBD
CLASS="USERINPUT"
>psql postgresql://dbmaster:5433/mydb?sslmode=require</KBD
></PRE
><P>
     This way you can also use <ACRONYM
CLASS="ACRONYM"
>LDAP</ACRONYM
> for connection
     parameter lookup as described in <A
HREF="libpq-ldap.html"
>Section 31.17</A
>.
     See <A
HREF="libpq-connect.html#LIBPQ-PARAMKEYWORDS"
>Section 31.1.2</A
> for more information on all the
     available connection options.
    </P
><P
>    If the connection could not be made for any reason (e.g., insufficient
    privileges, server is not running on the targeted host, etc.),
    <SPAN
CLASS="APPLICATION"
>psql</SPAN
> will return an error and terminate.
    </P
><P
>     If both standard input and standard output are a
     terminal, then <SPAN
CLASS="APPLICATION"
>psql</SPAN
> sets the client
     encoding to <SPAN
CLASS="QUOTE"
>"auto"</SPAN
>, which will detect the
     appropriate client encoding from the locale settings
     (<TT
CLASS="ENVAR"
>LC_CTYPE</TT
> environment variable on Unix systems).
     If this doesn't work out as expected, the client encoding can be
     overridden using the environment
     variable <TT
CLASS="ENVAR"
>PGCLIENTENCODING</TT
>.
    </P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-APP-PSQL-4"
></A
><H3
>Entering SQL Commands</H3
><P
>    In normal operation, <SPAN
CLASS="APPLICATION"
>psql</SPAN
> provides a
    prompt with the name of the database to which
    <SPAN
CLASS="APPLICATION"
>psql</SPAN
> is currently connected, followed by
    the string <TT
CLASS="LITERAL"
>=&gt;</TT
>. For example:
</P><PRE
CLASS="PROGRAMLISTING"
>$ <KBD
CLASS="USERINPUT"
>psql testdb</KBD
>
psql (9.5.4)
Type "help" for help.

testdb=&gt;</PRE
><P>
    </P
><P
>    At the prompt, the user can type in <ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
> commands.
    Ordinarily, input lines are sent to the server when a
    command-terminating semicolon is reached. An end of line does not
    terminate a command.  Thus commands can be spread over several lines for
    clarity. If the command was sent and executed without error, the results
    of the command are displayed on the screen.
    </P
><P
>    Whenever a command is executed, <SPAN
CLASS="APPLICATION"
>psql</SPAN
> also polls
    for asynchronous notification events generated by
    <A
HREF="sql-listen.html"
>LISTEN</A
> and
    <A
HREF="sql-notify.html"
>NOTIFY</A
>.
    </P
><P
>    While C-style block comments are passed to the server for
    processing and removal, SQL-standard comments are removed by
    <SPAN
CLASS="APPLICATION"
>psql</SPAN
>.
    </P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="APP-PSQL-META-COMMANDS"
></A
><H3
>Meta-Commands</H3
><P
>    Anything you enter in <SPAN
CLASS="APPLICATION"
>psql</SPAN
> that begins
    with an unquoted backslash is a <SPAN
CLASS="APPLICATION"
>psql</SPAN
>
    meta-command that is processed by <SPAN
CLASS="APPLICATION"
>psql</SPAN
>
    itself. These commands make
    <SPAN
CLASS="APPLICATION"
>psql</SPAN
> more useful for administration or
    scripting. Meta-commands are often called slash or backslash commands.
    </P
><P
>    The format of a <SPAN
CLASS="APPLICATION"
>psql</SPAN
> command is the backslash,
    followed immediately by a command verb, then any arguments. The arguments
    are separated from the command verb and each other by any number of
    whitespace characters.
    </P
><P
>    To include whitespace in an argument you can quote it with
    single quotes. To include a single quote in an argument,
    write two single quotes within single-quoted text.
    Anything contained in single quotes is
    furthermore subject to C-like substitutions for
    <TT
CLASS="LITERAL"
>\n</TT
> (new line), <TT
CLASS="LITERAL"
>\t</TT
> (tab),
    <TT
CLASS="LITERAL"
>\b</TT
> (backspace), <TT
CLASS="LITERAL"
>\r</TT
> (carriage return),
    <TT
CLASS="LITERAL"
>\f</TT
> (form feed),
    <TT
CLASS="LITERAL"
>\</TT
><TT
CLASS="REPLACEABLE"
><I
>digits</I
></TT
> (octal), and
    <TT
CLASS="LITERAL"
>\x</TT
><TT
CLASS="REPLACEABLE"
><I
>digits</I
></TT
> (hexadecimal).
    A backslash preceding any other character within single-quoted text
    quotes that single character, whatever it is.
    </P
><P
>    Within an argument, text that is enclosed in backquotes
    (<TT
CLASS="LITERAL"
>`</TT
>) is taken as a command line that is passed to the
    shell. The output of the command (with any trailing newline removed)
    replaces the backquoted text.
    </P
><P
>    If an unquoted colon (<TT
CLASS="LITERAL"
>:</TT
>) followed by a
    <SPAN
CLASS="APPLICATION"
>psql</SPAN
> variable name appears within an argument, it is
    replaced by the variable's value, as described in <A
HREF="app-psql.html#APP-PSQL-INTERPOLATION"
><I
><I
>SQL</I
> Interpolation</I
></A
>.
    </P
><P
>    Some commands take an <ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
> identifier (such as a
    table name) as argument. These arguments follow the syntax rules
    of <ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>: Unquoted letters are forced to
    lowercase, while double quotes (<TT
CLASS="LITERAL"
>"</TT
>) protect letters
    from case conversion and allow incorporation of whitespace into
    the identifier.  Within double quotes, paired double quotes reduce
    to a single double quote in the resulting name.  For example,
    <TT
CLASS="LITERAL"
>FOO"BAR"BAZ</TT
> is interpreted as <TT
CLASS="LITERAL"
>fooBARbaz</TT
>,
    and <TT
CLASS="LITERAL"
>"A weird"" name"</TT
> becomes <TT
CLASS="LITERAL"
>A weird"
    name</TT
>.
    </P
><P
>    Parsing for arguments stops at the end of the line, or when another
    unquoted backslash is found.  An unquoted backslash
    is taken as the beginning of a new meta-command. The special
    sequence <TT
CLASS="LITERAL"
>\\</TT
> (two backslashes) marks the end of
    arguments and continues parsing <ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
> commands, if
    any. That way <ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
> and
    <SPAN
CLASS="APPLICATION"
>psql</SPAN
> commands can be freely mixed on a
    line. But in any case, the arguments of a meta-command cannot
    continue beyond the end of the line.
    </P
><P
>    The following meta-commands are defined:

    <P
></P
></P><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="LITERAL"
>\a</TT
></DT
><DD
><P
>        If the current table output format is unaligned, it is switched to aligned.
        If it is not unaligned, it is set to unaligned. This command is
        kept for backwards compatibility. See <TT
CLASS="COMMAND"
>\pset</TT
> for a
        more general solution.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\c</TT
> or <TT
CLASS="LITERAL"
>\connect [ -reuse-previous=<TT
CLASS="REPLACEABLE"
><I
>on|off</I
></TT
> ] [ <TT
CLASS="REPLACEABLE"
><I
>dbname</I
></TT
> [ <TT
CLASS="REPLACEABLE"
><I
>username</I
></TT
> ] [ <TT
CLASS="REPLACEABLE"
><I
>host</I
></TT
> ] [ <TT
CLASS="REPLACEABLE"
><I
>port</I
></TT
> ] | <TT
CLASS="REPLACEABLE"
><I
>conninfo</I
></TT
> ]</TT
></DT
><DD
><P
>        Establishes a new connection to a <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>
        server.  The connection parameters to use can be specified either
        using a positional syntax, or using <TT
CLASS="LITERAL"
>conninfo</TT
> connection
        strings as detailed in <A
HREF="libpq-connect.html#LIBPQ-CONNSTRING"
>Section 31.1.1</A
>.
        </P
><P
>        Where the command omits database name, user, host, or port, the new
        connection can reuse values from the previous connection.  By default,
        values from the previous connection are reused except when processing
        a <TT
CLASS="LITERAL"
>conninfo</TT
> string.  Passing a first argument
        of <TT
CLASS="LITERAL"
>-reuse-previous=on</TT
>
        or <TT
CLASS="LITERAL"
>-reuse-previous=off</TT
> overrides that default.
        When the command neither specifies nor reuses a particular parameter,
        the <SPAN
CLASS="APPLICATION"
>libpq</SPAN
> default is used.  Specifying any
        of <TT
CLASS="REPLACEABLE"
><I
>dbname</I
></TT
>,
        <TT
CLASS="REPLACEABLE"
><I
>username</I
></TT
>,
        <TT
CLASS="REPLACEABLE"
><I
>host</I
></TT
> or
        <TT
CLASS="REPLACEABLE"
><I
>port</I
></TT
>
        as <TT
CLASS="LITERAL"
>-</TT
> is equivalent to omitting that parameter.
        </P
><P
>        If the new connection is successfully made, the previous
        connection is closed.
        If the connection attempt failed (wrong user name, access
        denied, etc.), the previous connection will only be kept if
        <SPAN
CLASS="APPLICATION"
>psql</SPAN
> is in interactive mode. When
        executing a non-interactive script, processing will
        immediately stop with an error. This distinction was chosen as
        a user convenience against typos on the one hand, and a safety
        mechanism that scripts are not accidentally acting on the
        wrong database on the other hand.
        </P
><P
>        Examples:
        </P
><PRE
CLASS="PROGRAMLISTING"
>=&gt; \c mydb myuser host.dom 6432
=&gt; \c service=foo
=&gt; \c "host=localhost port=5432 dbname=mydb connect_timeout=10 sslmode=disable"
=&gt; \c postgresql://tom@localhost/mydb?application_name=myapp</PRE
></DD
><DT
><TT
CLASS="LITERAL"
>\C [ <TT
CLASS="REPLACEABLE"
><I
>title</I
></TT
> ]</TT
></DT
><DD
><P
>        Sets the title of any tables being printed as the result of a
        query or unset any such title. This command is equivalent to
        <TT
CLASS="LITERAL"
>\pset title <TT
CLASS="REPLACEABLE"
><I
>title</I
></TT
></TT
>. (The name of
        this command derives from <SPAN
CLASS="QUOTE"
>"caption"</SPAN
>, as it was
        previously only used to set the caption in an
        <ACRONYM
CLASS="ACRONYM"
>HTML</ACRONYM
> table.)
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\cd [ <TT
CLASS="REPLACEABLE"
><I
>directory</I
></TT
> ]</TT
></DT
><DD
><P
>         Changes the current working directory to
         <TT
CLASS="REPLACEABLE"
><I
>directory</I
></TT
>. Without argument, changes
         to the current user's home directory.
        </P
><DIV
CLASS="TIP"
><BLOCKQUOTE
CLASS="TIP"
><P
><B
>Tip: </B
>          To print your current working directory, use <TT
CLASS="LITERAL"
>\! pwd</TT
>.
         </P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="LITERAL"
>\conninfo</TT
></DT
><DD
><P
>        Outputs information about the current database connection.
        </P
></DD
><DT
><A
NAME="APP-PSQL-META-COMMANDS-COPY"
></A
><TT
CLASS="LITERAL"
>\copy { <TT
CLASS="REPLACEABLE"
><I
>table</I
></TT
> [ ( <TT
CLASS="REPLACEABLE"
><I
>column_list</I
></TT
> ) ] | ( <TT
CLASS="REPLACEABLE"
><I
>query</I
></TT
> ) }
        { <TT
CLASS="LITERAL"
>from</TT
> | <TT
CLASS="LITERAL"
>to</TT
> }
        { <TT
CLASS="REPLACEABLE"
><I
>'filename'</I
></TT
> | program <TT
CLASS="REPLACEABLE"
><I
>'command'</I
></TT
> | stdin | stdout | pstdin | pstdout }
        [ [ with ] ( <TT
CLASS="REPLACEABLE"
><I
>option</I
></TT
> [, ...] ) ]</TT
></DT
><DD
><P
>        Performs a frontend (client) copy. This is an operation that
        runs an <ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
> <A
HREF="sql-copy.html"
>COPY</A
>
        command, but instead of the server
        reading or writing the specified file,
        <SPAN
CLASS="APPLICATION"
>psql</SPAN
> reads or writes the file and
        routes the data between the server and the local file system.
        This means that file accessibility and privileges are those of
        the local user, not the server, and no SQL superuser
        privileges are required.
        </P
><P
>        When <TT
CLASS="LITERAL"
>program</TT
> is specified,
        <TT
CLASS="REPLACEABLE"
><I
>command</I
></TT
> is
        executed by <SPAN
CLASS="APPLICATION"
>psql</SPAN
> and the data passed from
        or to <TT
CLASS="REPLACEABLE"
><I
>command</I
></TT
> is
        routed between the server and the client.
        Again, the execution privileges are those of
        the local user, not the server, and no SQL superuser
        privileges are required.
        </P
><P
>        For <TT
CLASS="LITERAL"
>\copy ... from stdin</TT
>, data rows are read from the same
        source that issued the command, continuing until <TT
CLASS="LITERAL"
>\.</TT
>
        is read or the stream reaches <ACRONYM
CLASS="ACRONYM"
>EOF</ACRONYM
>. This option is useful
        for populating tables in-line within a SQL script file.
        For <TT
CLASS="LITERAL"
>\copy ... to stdout</TT
>, output is sent to the same place
        as <SPAN
CLASS="APPLICATION"
>psql</SPAN
> command output, and
        the <TT
CLASS="LITERAL"
>COPY <TT
CLASS="REPLACEABLE"
><I
>count</I
></TT
></TT
> command status is
        not printed (since it might be confused with a data row).
        To read/write <SPAN
CLASS="APPLICATION"
>psql</SPAN
>'s standard input or
        output regardless of the current command source or <TT
CLASS="LITERAL"
>\o</TT
>
        option, write <TT
CLASS="LITERAL"
>from pstdin</TT
> or <TT
CLASS="LITERAL"
>to pstdout</TT
>.
        </P
><P
>        The syntax of this command is similar to that of the
        <ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
> <A
HREF="sql-copy.html"
>COPY</A
>
        command.  All options other than the data source/destination are
        as specified for <A
HREF="sql-copy.html"
>COPY</A
>.
        Because of this, special parsing rules apply to the <TT
CLASS="COMMAND"
>\copy</TT
>
        command. In particular, <SPAN
CLASS="APPLICATION"
>psql</SPAN
>'s variable substitution
        rules and backslash escapes do not apply.
        </P
><DIV
CLASS="TIP"
><BLOCKQUOTE
CLASS="TIP"
><P
><B
>Tip: </B
>        This operation is not as efficient as the <ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>
        <TT
CLASS="COMMAND"
>COPY</TT
> command because all data must pass
        through the client/server connection. For large
        amounts of data the <ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
> command might be preferable.
        </P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="LITERAL"
>\copyright</TT
></DT
><DD
><P
>        Shows the copyright and distribution terms of
        <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\d[S+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        For each relation (table, view, index, sequence, or foreign table)
        or composite type matching the
        <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
>, show all
        columns, their types, the tablespace (if not the default) and any
        special attributes such as <TT
CLASS="LITERAL"
>NOT NULL</TT
> or defaults.
        Associated indexes, constraints, rules, and triggers are
        also shown.  For foreign tables, the associated foreign
        server is shown as well.
        (<SPAN
CLASS="QUOTE"
>"Matching the pattern"</SPAN
> is defined in
        <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><I
>Patterns</I
></A
>
        below.)
        </P
><P
>        For some types of relation, <TT
CLASS="LITERAL"
>\d</TT
> shows additional information
        for each column: column values for sequences, indexed expression for
        indexes and foreign data wrapper options for foreign tables.
        </P
><P
>        The command form <TT
CLASS="LITERAL"
>\d+</TT
> is identical, except that
        more information is displayed: any comments associated with the
        columns of the table are shown, as is the presence of OIDs in the
        table, the view definition if the relation is a view, a non-default
        <A
HREF="sql-altertable.html#SQL-CREATETABLE-REPLICA-IDENTITY"
>replica
        identity</A
> setting.
        </P
><P
>        By default, only user-created objects are shown;  supply a
        pattern or the <TT
CLASS="LITERAL"
>S</TT
> modifier to include system
        objects.
        </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>        If <TT
CLASS="COMMAND"
>\d</TT
> is used without a
        <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> argument, it is
        equivalent to <TT
CLASS="COMMAND"
>\dtvsE</TT
> which will show a list of
        all visible tables, views, sequences and foreign tables.
        This is purely a convenience measure.
        </P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="LITERAL"
>\da[S] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists aggregate functions, together with their
        return type and the data types they operate on. If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
>
        is specified, only aggregates whose names match the pattern are shown.
        By default, only user-created objects are shown;  supply a
        pattern or the <TT
CLASS="LITERAL"
>S</TT
> modifier to include system
        objects.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\db[+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists tablespaces. If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
>
        is specified, only tablespaces whose names match the pattern are shown.
        If <TT
CLASS="LITERAL"
>+</TT
> is appended to the command name, each tablespace
        is listed with its associated options, on-disk size, permissions and
        description.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\dc[S+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists conversions between character-set encodings.
        If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
>
        is specified, only conversions whose names match the pattern are
        listed.
        By default, only user-created objects are shown;  supply a
        pattern or the <TT
CLASS="LITERAL"
>S</TT
> modifier to include system
        objects.
        If <TT
CLASS="LITERAL"
>+</TT
> is appended to the command name, each object
        is listed with its associated description.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\dC[+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists type casts.
        If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
>
        is specified, only casts whose source or target types match the
        pattern are listed.
        If <TT
CLASS="LITERAL"
>+</TT
> is appended to the command name, each object
        is listed with its associated description.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\dd[S] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Shows the descriptions of objects of type <TT
CLASS="LITERAL"
>constraint</TT
>,
        <TT
CLASS="LITERAL"
>operator class</TT
>, <TT
CLASS="LITERAL"
>operator family</TT
>,
        <TT
CLASS="LITERAL"
>rule</TT
>, and <TT
CLASS="LITERAL"
>trigger</TT
>. All
        other comments may be viewed by the respective backslash commands for
        those object types.
        </P
><P
><TT
CLASS="LITERAL"
>\dd</TT
> displays descriptions for objects matching the
        <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
>, or of visible
        objects of the appropriate type if no argument is given.  But in either
        case, only objects that have a description are listed.
        By default, only user-created objects are shown;  supply a
        pattern or the <TT
CLASS="LITERAL"
>S</TT
> modifier to include system
        objects.
        </P
><P
>        Descriptions for objects can be created with the <A
HREF="sql-comment.html"
>COMMENT</A
>
        <ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
> command.
       </P
></DD
><DT
><TT
CLASS="LITERAL"
>\ddp [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists default access privilege settings.  An entry is shown for
        each role (and schema, if applicable) for which the default
        privilege settings have been changed from the built-in defaults.
        If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> is
        specified, only entries whose role name or schema name matches
        the pattern are listed.
        </P
><P
>        The <A
HREF="sql-alterdefaultprivileges.html"
>ALTER DEFAULT PRIVILEGES</A
> command is used to set
        default access privileges.  The meaning of the
        privilege display is explained under
        <A
HREF="sql-grant.html"
>GRANT</A
>.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\dD[S+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists domains. If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
>
        is specified, only domains whose names match the pattern are shown.
        By default, only user-created objects are shown;  supply a
        pattern or the <TT
CLASS="LITERAL"
>S</TT
> modifier to include system
        objects.
        If <TT
CLASS="LITERAL"
>+</TT
> is appended to the command name, each object
        is listed with its associated permissions and description.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\dE[S+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
><BR><TT
CLASS="LITERAL"
>\di[S+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
><BR><TT
CLASS="LITERAL"
>\dm[S+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
><BR><TT
CLASS="LITERAL"
>\ds[S+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
><BR><TT
CLASS="LITERAL"
>\dt[S+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
><BR><TT
CLASS="LITERAL"
>\dv[S+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        In this group of commands, the letters <TT
CLASS="LITERAL"
>E</TT
>,
        <TT
CLASS="LITERAL"
>i</TT
>, <TT
CLASS="LITERAL"
>m</TT
>, <TT
CLASS="LITERAL"
>s</TT
>,
        <TT
CLASS="LITERAL"
>t</TT
>, and <TT
CLASS="LITERAL"
>v</TT
>
        stand for foreign table, index, materialized view, sequence, table, and view,
        respectively.
        You can specify any or all of
        these letters, in any order, to obtain a listing of objects
        of these types.  For example, <TT
CLASS="LITERAL"
>\dit</TT
> lists indexes
        and tables.  If <TT
CLASS="LITERAL"
>+</TT
> is
        appended to the command name, each object is listed with its
        physical size on disk and its associated description, if any.
        If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> is
        specified, only objects whose names match the pattern are listed.
        By default, only user-created objects are shown; supply a
        pattern or the <TT
CLASS="LITERAL"
>S</TT
> modifier to include system
        objects.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\des[+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists foreign servers (mnemonic: <SPAN
CLASS="QUOTE"
>"external
        servers"</SPAN
>).
        If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> is
        specified, only those servers whose name matches the pattern
        are listed.  If the form <TT
CLASS="LITERAL"
>\des+</TT
> is used, a
        full description of each server is shown, including the
        server's ACL, type, version, options, and description.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\det[+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists foreign tables (mnemonic: <SPAN
CLASS="QUOTE"
>"external tables"</SPAN
>).
        If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> is
        specified, only entries whose table name or schema name matches
        the pattern are listed.  If the form <TT
CLASS="LITERAL"
>\det+</TT
>
        is used, generic options and the foreign table description
        are also displayed.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\deu[+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists user mappings (mnemonic: <SPAN
CLASS="QUOTE"
>"external
        users"</SPAN
>).
        If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> is
        specified, only those mappings whose user names match the
        pattern are listed.  If the form <TT
CLASS="LITERAL"
>\deu+</TT
> is
        used, additional information about each mapping is shown.
        </P
><DIV
CLASS="CAUTION"
><P
></P
><TABLE
CLASS="CAUTION"
BORDER="1"
WIDTH="90%"
><TR
><TD
ALIGN="CENTER"
><B
>Caution</B
></TD
></TR
><TR
><TD
ALIGN="LEFT"
><P
>        <TT
CLASS="LITERAL"
>\deu+</TT
> might also display the user name and
        password of the remote user, so care should be taken not to
        disclose them.
        </P
></TD
></TR
></TABLE
></DIV
></DD
><DT
><TT
CLASS="LITERAL"
>\dew[+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists foreign-data wrappers (mnemonic: <SPAN
CLASS="QUOTE"
>"external
        wrappers"</SPAN
>).
        If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> is
        specified, only those foreign-data wrappers whose name matches
        the pattern are listed.  If the form <TT
CLASS="LITERAL"
>\dew+</TT
>
        is used, the ACL, options, and description of the foreign-data
        wrapper are also shown.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\df[antwS+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists functions, together with their arguments, return types, and
        function types, which are classified as <SPAN
CLASS="QUOTE"
>"agg"</SPAN
> (aggregate),
        <SPAN
CLASS="QUOTE"
>"normal"</SPAN
>, <SPAN
CLASS="QUOTE"
>"trigger"</SPAN
>, or <SPAN
CLASS="QUOTE"
>"window"</SPAN
>.
        To display only functions
        of specific type(s), add the corresponding letters <TT
CLASS="LITERAL"
>a</TT
>,
        <TT
CLASS="LITERAL"
>n</TT
>, <TT
CLASS="LITERAL"
>t</TT
>, or <TT
CLASS="LITERAL"
>w</TT
> to the command.
        If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> is specified, only
        functions whose names match the pattern are shown.
        By default, only user-created
        objects are shown; supply a pattern or the <TT
CLASS="LITERAL"
>S</TT
>
        modifier to include system objects.
        If the form <TT
CLASS="LITERAL"
>\df+</TT
> is used, additional information
        about each function is shown, including security classification,
        volatility, owner, language, source code and description.
        </P
><DIV
CLASS="TIP"
><BLOCKQUOTE
CLASS="TIP"
><P
><B
>Tip: </B
>        To look up functions taking arguments or returning values of a specific
        type, use your pager's search capability to scroll through the
        <TT
CLASS="LITERAL"
>\df</TT
> output.
        </P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="LITERAL"
>\dF[+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>         Lists text search configurations.
         If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> is specified,
         only configurations whose names match the pattern are shown.
         If the form <TT
CLASS="LITERAL"
>\dF+</TT
> is used, a full description of
         each configuration is shown, including the underlying text search
         parser and the dictionary list for each parser token type.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\dFd[+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>         Lists text search dictionaries.
         If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> is specified,
         only dictionaries whose names match the pattern are shown.
         If the form <TT
CLASS="LITERAL"
>\dFd+</TT
> is used, additional information
         is shown about each selected dictionary, including the underlying
         text search template and the option values.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\dFp[+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>         Lists text search parsers.
         If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> is specified,
         only parsers whose names match the pattern are shown.
         If the form <TT
CLASS="LITERAL"
>\dFp+</TT
> is used, a full description of
         each parser is shown, including the underlying functions and the
         list of recognized token types.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\dFt[+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>         Lists text search templates.
         If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> is specified,
         only templates whose names match the pattern are shown.
         If the form <TT
CLASS="LITERAL"
>\dFt+</TT
> is used, additional information
         is shown about each template, including the underlying function names.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\dg[+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists database roles.
        (Since the concepts of <SPAN
CLASS="QUOTE"
>"users"</SPAN
> and <SPAN
CLASS="QUOTE"
>"groups"</SPAN
> have been
        unified into <SPAN
CLASS="QUOTE"
>"roles"</SPAN
>, this command is now equivalent to
        <TT
CLASS="LITERAL"
>\du</TT
>.)
        If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> is specified,
        only those roles whose names match the pattern are listed.
        If the form <TT
CLASS="LITERAL"
>\dg+</TT
> is used, additional information
        is shown about each role; currently this adds the comment for each
        role.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\dl</TT
></DT
><DD
><P
>        This is an alias for <TT
CLASS="COMMAND"
>\lo_list</TT
>, which shows a
        list of large objects.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\dL[S+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists procedural languages. If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
>
        is specified, only languages whose names match the pattern are listed.
        By default, only user-created languages
        are shown; supply the <TT
CLASS="LITERAL"
>S</TT
> modifier to include system
        objects. If <TT
CLASS="LITERAL"
>+</TT
> is appended to the command name, each
        language is listed with its call handler, validator, access privileges,
        and whether it is a system object.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\dn[S+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists schemas (namespaces). If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
>
        is specified, only schemas whose names match the pattern are listed.
        By default, only user-created objects are shown; supply a
        pattern or the <TT
CLASS="LITERAL"
>S</TT
> modifier to include system objects.
        If <TT
CLASS="LITERAL"
>+</TT
> is appended to the command name, each object
        is listed with its associated permissions and description, if any.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\do[S+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists operators with their operand and result types.
        If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> is
        specified, only operators whose names match the pattern are listed.
        By default, only user-created objects are shown; supply a
        pattern or the <TT
CLASS="LITERAL"
>S</TT
> modifier to include system
        objects.
        If <TT
CLASS="LITERAL"
>+</TT
> is appended to the command name,
        additional information about each operator is shown, currently just
        the name of the underlying function.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\dO[S+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists collations.
        If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> is
        specified, only collations whose names match the pattern are
        listed.  By default, only user-created objects are shown;
        supply a pattern or the <TT
CLASS="LITERAL"
>S</TT
> modifier to
        include system objects.  If <TT
CLASS="LITERAL"
>+</TT
> is appended
        to the command name, each collation is listed with its associated
        description, if any.
        Note that only collations usable with the current database's encoding
        are shown, so the results may vary in different databases of the
        same installation.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\dp [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists tables, views and sequences with their
        associated access privileges.
        If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> is
        specified, only tables, views and sequences whose names match the
        pattern are listed.
        </P
><P
>        The <A
HREF="sql-grant.html"
>GRANT</A
> and
        <A
HREF="sql-revoke.html"
>REVOKE</A
>
        commands are used to set access privileges.  The meaning of the
        privilege display is explained under
        <A
HREF="sql-grant.html"
>GRANT</A
>.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\drds [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>role-pattern</I
></TT
></A
> [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>database-pattern</I
></TT
></A
> ] ]</TT
></DT
><DD
><P
>        Lists defined configuration settings.  These settings can be
        role-specific, database-specific, or both.
        <TT
CLASS="REPLACEABLE"
><I
>role-pattern</I
></TT
> and
        <TT
CLASS="REPLACEABLE"
><I
>database-pattern</I
></TT
> are used to select
        specific roles and databases to list, respectively.  If omitted, or if
        <TT
CLASS="LITERAL"
>*</TT
> is specified, all settings are listed, including those
        not role-specific or database-specific, respectively.
        </P
><P
>        The <A
HREF="sql-alterrole.html"
>ALTER ROLE</A
> and
        <A
HREF="sql-alterdatabase.html"
>ALTER DATABASE</A
>
        commands are used to define per-role and per-database configuration
        settings.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\dT[S+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists data types.
        If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> is
        specified, only types whose names match the pattern are listed.
        If <TT
CLASS="LITERAL"
>+</TT
> is appended to the command name, each type is
        listed with its internal name and size, its allowed values
        if it is an <TT
CLASS="TYPE"
>enum</TT
> type, and its associated permissions.
        By default, only user-created objects are shown;  supply a
        pattern or the <TT
CLASS="LITERAL"
>S</TT
> modifier to include system
        objects.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\du[+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists database roles.
        (Since the concepts of <SPAN
CLASS="QUOTE"
>"users"</SPAN
> and <SPAN
CLASS="QUOTE"
>"groups"</SPAN
> have been
        unified into <SPAN
CLASS="QUOTE"
>"roles"</SPAN
>, this command is now equivalent to
        <TT
CLASS="LITERAL"
>\dg</TT
>.)
        If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> is specified,
        only those roles whose names match the pattern are listed.
        If the form <TT
CLASS="LITERAL"
>\du+</TT
> is used, additional information
        is shown about each role; currently this adds the comment for each
        role.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\dx[+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists installed extensions.
        If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
>
        is specified, only those extensions whose names match the pattern
        are listed.
        If the form <TT
CLASS="LITERAL"
>\dx+</TT
> is used, all the objects belonging
        to each matching extension are listed.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\dy[+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists event triggers.
        If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
>
        is specified, only those event triggers whose names match the pattern
        are listed.
        If <TT
CLASS="LITERAL"
>+</TT
> is appended to the command name, each object
        is listed with its associated description.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\e</TT
> or <TT
CLASS="LITERAL"
>\edit</TT
> <TT
CLASS="LITERAL"
> [<SPAN
CLASS="OPTIONAL"
> <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
> </SPAN
>] [<SPAN
CLASS="OPTIONAL"
> <TT
CLASS="REPLACEABLE"
><I
>line_number</I
></TT
> </SPAN
>] </TT
></DT
><DD
><P
>        If <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
> is
        specified, the file is edited; after the editor exits, its
        content is copied back to the query buffer. If no <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
> is given, the current query
        buffer is copied to a temporary file which is then edited in the same
        fashion.
        </P
><P
>        The new query buffer is then re-parsed according to the normal
        rules of <SPAN
CLASS="APPLICATION"
>psql</SPAN
>, where the whole buffer
        is treated as a single line. (Thus you cannot make scripts this
        way. Use <TT
CLASS="COMMAND"
>\i</TT
> for that.) This means that
        if the query ends with (or contains) a semicolon, it is
        immediately executed. Otherwise it will merely wait in the
        query buffer; type semicolon or <TT
CLASS="LITERAL"
>\g</TT
> to send it, or
        <TT
CLASS="LITERAL"
>\r</TT
> to cancel.
        </P
><P
>        If a line number is specified, <SPAN
CLASS="APPLICATION"
>psql</SPAN
> will
        position the cursor on the specified line of the file or query buffer.
        Note that if a single all-digits argument is given,
        <SPAN
CLASS="APPLICATION"
>psql</SPAN
> assumes it is a line number,
        not a file name.
        </P
><DIV
CLASS="TIP"
><BLOCKQUOTE
CLASS="TIP"
><P
><B
>Tip: </B
>        See under <A
HREF="app-psql.html#APP-PSQL-ENVIRONMENT"
><I
>Environment</I
></A
> for how to configure and
        customize your editor.
        </P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="LITERAL"
>\echo <TT
CLASS="REPLACEABLE"
><I
>text</I
></TT
> [ ... ]</TT
></DT
><DD
><P
>        Prints the arguments to the standard output, separated by one
        space and followed by a newline. This can be useful to
        intersperse information in the output of scripts. For example:
</P><PRE
CLASS="PROGRAMLISTING"
>=&gt; <KBD
CLASS="USERINPUT"
>\echo `date`</KBD
>
Tue Oct 26 21:40:57 CEST 1999</PRE
><P>
        If the first argument is an unquoted <TT
CLASS="LITERAL"
>-n</TT
> the trailing
        newline is not written.
        </P
><DIV
CLASS="TIP"
><BLOCKQUOTE
CLASS="TIP"
><P
><B
>Tip: </B
>        If you use the <TT
CLASS="COMMAND"
>\o</TT
> command to redirect your
        query output you might wish to use <TT
CLASS="COMMAND"
>\qecho</TT
>
        instead of this command.
        </P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="LITERAL"
>\ef [<SPAN
CLASS="OPTIONAL"
> <TT
CLASS="REPLACEABLE"
><I
>function_description</I
></TT
> [<SPAN
CLASS="OPTIONAL"
>  <TT
CLASS="REPLACEABLE"
><I
>line_number</I
></TT
> </SPAN
>] </SPAN
>] </TT
></DT
><DD
><P
>         This command fetches and edits the definition of the named function,
         in the form of a <TT
CLASS="COMMAND"
>CREATE OR REPLACE FUNCTION</TT
> command.
         Editing is done in the same way as for <TT
CLASS="LITERAL"
>\edit</TT
>.
         After the editor exits, the updated command waits in the query buffer;
         type semicolon or <TT
CLASS="LITERAL"
>\g</TT
> to send it, or <TT
CLASS="LITERAL"
>\r</TT
>
         to cancel.
        </P
><P
>         The target function can be specified by name alone, or by name
         and arguments, for example <TT
CLASS="LITERAL"
>foo(integer, text)</TT
>.
         The argument types must be given if there is more
         than one function of the same name.
        </P
><P
>         If no function is specified, a blank <TT
CLASS="COMMAND"
>CREATE FUNCTION</TT
>
         template is presented for editing.
        </P
><P
>        If a line number is specified, <SPAN
CLASS="APPLICATION"
>psql</SPAN
> will
        position the cursor on the specified line of the function body.
        (Note that the function body typically does not begin on the first
        line of the file.)
        </P
><DIV
CLASS="TIP"
><BLOCKQUOTE
CLASS="TIP"
><P
><B
>Tip: </B
>        See under <A
HREF="app-psql.html#APP-PSQL-ENVIRONMENT"
><I
>Environment</I
></A
> for how to configure and
        customize your editor.
        </P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="LITERAL"
>\encoding [ <TT
CLASS="REPLACEABLE"
><I
>encoding</I
></TT
> ]</TT
></DT
><DD
><P
>        Sets the client character set encoding.  Without an argument, this command
        shows the current encoding.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\f [ <TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
> ]</TT
></DT
><DD
><P
>        Sets the field separator for unaligned query output. The default
        is the vertical bar (<TT
CLASS="LITERAL"
>|</TT
>). See also
        <TT
CLASS="COMMAND"
>\pset</TT
> for a generic way of setting output
        options.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\g [ <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
> ]</TT
><BR><TT
CLASS="LITERAL"
>\g [ |<TT
CLASS="REPLACEABLE"
><I
>command</I
></TT
> ]</TT
></DT
><DD
><P
>        Sends the current query input buffer to the server, and
        optionally stores the query's output in <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
> or pipes the output
        to the shell command <TT
CLASS="REPLACEABLE"
><I
>command</I
></TT
>.  The file or command is
        written to only if the query successfully returns zero or more tuples,
        not if the query fails or is a non-data-returning SQL command.
        </P
><P
>        A bare <TT
CLASS="LITERAL"
>\g</TT
> is essentially equivalent to a semicolon.
        A <TT
CLASS="LITERAL"
>\g</TT
> with argument is a <SPAN
CLASS="QUOTE"
>"one-shot"</SPAN
>
        alternative to the <TT
CLASS="COMMAND"
>\o</TT
> command.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\gset [ <TT
CLASS="REPLACEABLE"
><I
>prefix</I
></TT
> ]</TT
></DT
><DD
><P
>         Sends the current query input buffer to the server and stores the
         query's output into <SPAN
CLASS="APPLICATION"
>psql</SPAN
> variables (see <A
HREF="app-psql.html#APP-PSQL-VARIABLES"
><I
>Variables</I
></A
>).
         The query to be executed must return exactly one row.  Each column of
         the row is stored into a separate variable, named the same as the
         column.  For example:
</P><PRE
CLASS="PROGRAMLISTING"
>=&gt; <KBD
CLASS="USERINPUT"
>SELECT 'hello' AS var1, 10 AS var2</KBD
>
-&gt; <KBD
CLASS="USERINPUT"
>\gset</KBD
>
=&gt; <KBD
CLASS="USERINPUT"
>\echo :var1 :var2</KBD
>
hello 10</PRE
><P>
        </P
><P
>         If you specify a <TT
CLASS="REPLACEABLE"
><I
>prefix</I
></TT
>,
         that string is prepended to the query's column names to create the
         variable names to use:
</P><PRE
CLASS="PROGRAMLISTING"
>=&gt; <KBD
CLASS="USERINPUT"
>SELECT 'hello' AS var1, 10 AS var2</KBD
>
-&gt; <KBD
CLASS="USERINPUT"
>\gset result_</KBD
>
=&gt; <KBD
CLASS="USERINPUT"
>\echo :result_var1 :result_var2</KBD
>
hello 10</PRE
><P>
        </P
><P
>         If a column result is NULL, the corresponding variable is unset
         rather than being set.
        </P
><P
>         If the query fails or does not return one row,
         no variables are changed.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\h</TT
> or <TT
CLASS="LITERAL"
>\help</TT
> <TT
CLASS="LITERAL"
>[ <TT
CLASS="REPLACEABLE"
><I
>command</I
></TT
> ]</TT
></DT
><DD
><P
>        Gives syntax help on the specified <ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>
        command. If <TT
CLASS="REPLACEABLE"
><I
>command</I
></TT
>
        is not specified, then <SPAN
CLASS="APPLICATION"
>psql</SPAN
> will list
        all the commands for which syntax help is available. If
        <TT
CLASS="REPLACEABLE"
><I
>command</I
></TT
> is an
        asterisk (<TT
CLASS="LITERAL"
>*</TT
>), then syntax help on all
        <ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
> commands is shown.
        </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>        To simplify typing, commands that consists of several words do
        not have to be quoted. Thus it is fine to type <KBD
CLASS="USERINPUT"
>\help
        alter table</KBD
>.
        </P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="LITERAL"
>\H</TT
> or <TT
CLASS="LITERAL"
>\html</TT
></DT
><DD
><P
>        Turns on <ACRONYM
CLASS="ACRONYM"
>HTML</ACRONYM
> query output format. If the
        <ACRONYM
CLASS="ACRONYM"
>HTML</ACRONYM
> format is already on, it is switched
        back to the default aligned text format. This command is for
        compatibility and convenience, but see <TT
CLASS="COMMAND"
>\pset</TT
>
        about setting other output options.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\i</TT
> or <TT
CLASS="LITERAL"
>\include</TT
> <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
></DT
><DD
><P
>        Reads input from the file <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
> and executes it as
        though it had been typed on the keyboard.
        </P
><P
>        If <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
> is <TT
CLASS="LITERAL"
>-</TT
>
        (hyphen), then standard input is read until an EOF indication
        or <TT
CLASS="COMMAND"
>\q</TT
> meta-command.  This can be used to intersperse
        interactive input with input from files.  Note that Readline behavior
        will be used only if it is active at the outermost level.
        </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>        If you want to see the lines on the screen as they are read you
        must set the variable <TT
CLASS="VARNAME"
>ECHO</TT
> to
        <TT
CLASS="LITERAL"
>all</TT
>.
        </P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="LITERAL"
>\ir</TT
> or <TT
CLASS="LITERAL"
>\include_relative</TT
> <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
></DT
><DD
><P
>        The <TT
CLASS="LITERAL"
>\ir</TT
> command is similar to <TT
CLASS="LITERAL"
>\i</TT
>, but resolves
        relative file names differently.  When executing in interactive mode,
        the two commands behave identically.  However, when invoked from a
        script, <TT
CLASS="LITERAL"
>\ir</TT
> interprets file names relative to the
        directory in which the script is located, rather than the current
        working directory.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\l[+]</TT
> or <TT
CLASS="LITERAL"
>\list[+] [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        List the databases in the server and show their names, owners,
        character set encodings, and access privileges.
        If <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> is specified,
        only databases whose names match the pattern are listed.
        If <TT
CLASS="LITERAL"
>+</TT
> is appended to the command name, database
        sizes, default tablespaces, and descriptions are also displayed.
        (Size information is only available for databases that the current
        user can connect to.)
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\lo_export <TT
CLASS="REPLACEABLE"
><I
>loid</I
></TT
> <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
></TT
></DT
><DD
><P
>        Reads the large object with <ACRONYM
CLASS="ACRONYM"
>OID</ACRONYM
> <TT
CLASS="REPLACEABLE"
><I
>loid</I
></TT
> from the database and
        writes it to <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
>. Note that this is
        subtly different from the server function
        <CODE
CLASS="FUNCTION"
>lo_export</CODE
>, which acts with the permissions
        of the user that the database server runs as and on the server's
        file system.
        </P
><DIV
CLASS="TIP"
><BLOCKQUOTE
CLASS="TIP"
><P
><B
>Tip: </B
>        Use <TT
CLASS="COMMAND"
>\lo_list</TT
> to find out the large object's
        <ACRONYM
CLASS="ACRONYM"
>OID</ACRONYM
>.
        </P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="LITERAL"
>\lo_import <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
> [ <TT
CLASS="REPLACEABLE"
><I
>comment</I
></TT
> ]</TT
></DT
><DD
><P
>        Stores the file into a <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>
        large object. Optionally, it associates the given
        comment with the object. Example:
</P><PRE
CLASS="PROGRAMLISTING"
>foo=&gt; <KBD
CLASS="USERINPUT"
>\lo_import '/home/peter/pictures/photo.xcf' 'a picture of me'</KBD
>
lo_import 152801</PRE
><P>
        The response indicates that the large object received object
        ID 152801, which can be used to access the newly-created large
        object in the future. For the sake of readability, it is
        recommended to always associate a human-readable comment with
        every object. Both OIDs and comments can be viewed with the
        <TT
CLASS="COMMAND"
>\lo_list</TT
> command.
        </P
><P
>        Note that this command is subtly different from the server-side
        <CODE
CLASS="FUNCTION"
>lo_import</CODE
> because it acts as the local user
        on the local file system, rather than the server's user and file
        system.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\lo_list</TT
></DT
><DD
><P
>        Shows a list of all <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>
        large objects currently stored in the database,
        along with any comments provided for them.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\lo_unlink <TT
CLASS="REPLACEABLE"
><I
>loid</I
></TT
></TT
></DT
><DD
><P
>        Deletes the large object with <ACRONYM
CLASS="ACRONYM"
>OID</ACRONYM
>
        <TT
CLASS="REPLACEABLE"
><I
>loid</I
></TT
> from the
        database.
        </P
><DIV
CLASS="TIP"
><BLOCKQUOTE
CLASS="TIP"
><P
><B
>Tip: </B
>        Use <TT
CLASS="COMMAND"
>\lo_list</TT
> to find out the large object's
        <ACRONYM
CLASS="ACRONYM"
>OID</ACRONYM
>.
        </P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="LITERAL"
>\o</TT
> or <TT
CLASS="LITERAL"
>\out [ <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
> ]</TT
><BR><TT
CLASS="LITERAL"
>\o</TT
> or <TT
CLASS="LITERAL"
>\out [ |<TT
CLASS="REPLACEABLE"
><I
>command</I
></TT
> ]</TT
></DT
><DD
><P
>        Arranges to save future query results to the file <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
> or pipe future results
        to the shell command <TT
CLASS="REPLACEABLE"
><I
>command</I
></TT
>. If no argument is
        specified, the query output is reset to the standard output.
        </P
><P
><SPAN
CLASS="QUOTE"
>"Query results"</SPAN
> includes all tables, command
        responses, and notices obtained from the database server, as
        well as output of various backslash commands that query the
        database (such as <TT
CLASS="COMMAND"
>\d</TT
>), but not error
        messages.
        </P
><DIV
CLASS="TIP"
><BLOCKQUOTE
CLASS="TIP"
><P
><B
>Tip: </B
>        To intersperse text output in between query results, use
        <TT
CLASS="COMMAND"
>\qecho</TT
>.
        </P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="LITERAL"
>\p</TT
> or <TT
CLASS="LITERAL"
>\print</TT
></DT
><DD
><P
>        Print the current query buffer to the standard output.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\password [ <TT
CLASS="REPLACEABLE"
><I
>username</I
></TT
> ]</TT
></DT
><DD
><P
>        Changes the password of the specified user (by default, the current
        user).  This command prompts for the new password, encrypts it, and
        sends it to the server as an <TT
CLASS="COMMAND"
>ALTER ROLE</TT
> command.  This
        makes sure that the new password does not appear in cleartext in the
        command history, the server log, or elsewhere.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\prompt [ <TT
CLASS="REPLACEABLE"
><I
>text</I
></TT
> ] <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
></TT
></DT
><DD
><P
>         Prompts the user to supply text, which is assigned to the variable
         <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
>.
         An optional prompt string, <TT
CLASS="REPLACEABLE"
><I
>text</I
></TT
>, can be specified.  (For multiword
         prompts, surround the text with single quotes.)
        </P
><P
>         By default, <TT
CLASS="LITERAL"
>\prompt</TT
> uses the terminal for input and
         output.  However, if the <TT
CLASS="OPTION"
>-f</TT
> command line switch was
         used, <TT
CLASS="LITERAL"
>\prompt</TT
> uses standard input and standard output.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\pset [ <TT
CLASS="REPLACEABLE"
><I
>option</I
></TT
> [ <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
> ] ]</TT
></DT
><DD
><P
>        This command sets options affecting the output of query result tables.
        <TT
CLASS="REPLACEABLE"
><I
>option</I
></TT
>
        indicates which option is to be set. The semantics of
        <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
> vary depending
        on the selected option.  For some options, omitting <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
> causes the option to be toggled
        or unset, as described under the particular option.  If no such
        behavior is mentioned, then omitting
        <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
> just results in
        the current setting being displayed.
        </P
><P
>        <TT
CLASS="COMMAND"
>\pset</TT
> without any arguments displays the current status
        of all printing options.
        </P
><P
>        Adjustable printing options are:
        <P
></P
></P><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="LITERAL"
>border</TT
></DT
><DD
><P
>          The <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
> must be a
          number. In general, the higher
          the number the more borders and lines the tables will have,
          but details depend on the particular format.
          In <ACRONYM
CLASS="ACRONYM"
>HTML</ACRONYM
> format, this will translate directly
          into the <TT
CLASS="LITERAL"
>border=...</TT
> attribute.
          In most other formats only values 0 (no border), 1 (internal
          dividing lines), and 2 (table frame) make sense, and values above 2
          will be treated the same as <TT
CLASS="LITERAL"
>border = 2</TT
>.
          The <TT
CLASS="LITERAL"
>latex</TT
> and <TT
CLASS="LITERAL"
>latex-longtable</TT
>
          formats additionally allow a value of 3 to add dividing lines
          between data rows.
          </P
></DD
><DT
><TT
CLASS="LITERAL"
>columns</TT
></DT
><DD
><P
>          Sets the target width for the <TT
CLASS="LITERAL"
>wrapped</TT
> format, and also
          the width limit for determining whether output is wide enough to
          require the pager or switch to the vertical display in expanded auto
          mode.
          Zero (the default) causes the target width to be controlled by the
          environment variable <TT
CLASS="ENVAR"
>COLUMNS</TT
>, or the detected screen width
          if <TT
CLASS="ENVAR"
>COLUMNS</TT
> is not set.
          In addition, if <TT
CLASS="LITERAL"
>columns</TT
> is zero then the
          <TT
CLASS="LITERAL"
>wrapped</TT
> format only affects screen output.
          If <TT
CLASS="LITERAL"
>columns</TT
> is nonzero then file and pipe output is
          wrapped to that width as well.
          </P
></DD
><DT
><TT
CLASS="LITERAL"
>expanded</TT
> (or <TT
CLASS="LITERAL"
>x</TT
>)</DT
><DD
><P
>          If <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
> is specified it
          must be either <TT
CLASS="LITERAL"
>on</TT
> or <TT
CLASS="LITERAL"
>off</TT
>, which
          will enable or disable expanded mode, or <TT
CLASS="LITERAL"
>auto</TT
>.
          If <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
> is omitted the
          command toggles between the on and off settings.  When expanded mode
          is enabled, query results are displayed in two columns, with the
          column name on the left and the data on the right. This mode is
          useful if the data wouldn't fit on the screen in the
          normal <SPAN
CLASS="QUOTE"
>"horizontal"</SPAN
> mode.  In the auto setting, the
          expanded mode is used whenever the query output is wider than the
          screen, otherwise the regular mode is used.  The auto setting is only
          effective in the aligned and wrapped formats.  In other formats, it
          always behaves as if the expanded mode is off.
          </P
></DD
><DT
><TT
CLASS="LITERAL"
>fieldsep</TT
></DT
><DD
><P
>          Specifies the field separator to be used in unaligned output
          format. That way one can create, for example, tab- or
          comma-separated output, which other programs might prefer. To
          set a tab as field separator, type <TT
CLASS="LITERAL"
>\pset fieldsep
          '\t'</TT
>. The default field separator is
          <TT
CLASS="LITERAL"
>'|'</TT
> (a vertical bar).
          </P
></DD
><DT
><TT
CLASS="LITERAL"
>fieldsep_zero</TT
></DT
><DD
><P
>          Sets the field separator to use in unaligned output format to a zero
          byte.
          </P
></DD
><DT
><TT
CLASS="LITERAL"
>footer</TT
></DT
><DD
><P
>          If <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
> is specified
          it must be either <TT
CLASS="LITERAL"
>on</TT
> or <TT
CLASS="LITERAL"
>off</TT
>
          which will enable or disable display of the table footer
          (the <TT
CLASS="LITERAL"
>(<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
> rows)</TT
> count).
          If <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
> is omitted the
          command toggles footer display on or off.
          </P
></DD
><DT
><TT
CLASS="LITERAL"
>format</TT
></DT
><DD
><P
>          Sets the output format to one of <TT
CLASS="LITERAL"
>unaligned</TT
>,
          <TT
CLASS="LITERAL"
>aligned</TT
>, <TT
CLASS="LITERAL"
>wrapped</TT
>,
          <TT
CLASS="LITERAL"
>html</TT
>, <TT
CLASS="LITERAL"
>asciidoc</TT
>,
          <TT
CLASS="LITERAL"
>latex</TT
> (uses <TT
CLASS="LITERAL"
>tabular</TT
>),
          <TT
CLASS="LITERAL"
>latex-longtable</TT
>, or
          <TT
CLASS="LITERAL"
>troff-ms</TT
>.
          Unique abbreviations are allowed.  (That would mean one letter
          is enough.)
          </P
><P
><TT
CLASS="LITERAL"
>unaligned</TT
> format writes all columns of a row on one
          line, separated by the currently active field separator. This
          is useful for creating output that might be intended to be read
          in by other programs (for example, tab-separated or comma-separated
          format).
          </P
><P
><TT
CLASS="LITERAL"
>aligned</TT
> format is the standard, human-readable,
          nicely formatted text output;  this is the default.
          </P
><P
><TT
CLASS="LITERAL"
>wrapped</TT
> format is like <TT
CLASS="LITERAL"
>aligned</TT
> but wraps
          wide data values across lines to make the output fit in the target
          column width.  The target width is determined as described under
          the <TT
CLASS="LITERAL"
>columns</TT
> option.  Note that <SPAN
CLASS="APPLICATION"
>psql</SPAN
> will
          not attempt to wrap column header titles; therefore,
          <TT
CLASS="LITERAL"
>wrapped</TT
> format behaves the same as <TT
CLASS="LITERAL"
>aligned</TT
>
          if the total width needed for column headers exceeds the target.
          </P
><P
>          The <TT
CLASS="LITERAL"
>html</TT
>, <TT
CLASS="LITERAL"
>asciidoc</TT
>, <TT
CLASS="LITERAL"
>latex</TT
>,
          <TT
CLASS="LITERAL"
>latex-longtable</TT
>, and <TT
CLASS="LITERAL"
>troff-ms</TT
>
          formats put out tables that are intended to
          be included in documents using the respective mark-up
          language. They are not complete documents! This might not be
          necessary in <ACRONYM
CLASS="ACRONYM"
>HTML</ACRONYM
>, but in
          <SPAN
CLASS="APPLICATION"
>LaTeX</SPAN
> you must have a complete
          document wrapper.  <TT
CLASS="LITERAL"
>latex-longtable</TT
>
          also requires the <SPAN
CLASS="APPLICATION"
>LaTeX</SPAN
>
          <TT
CLASS="LITERAL"
>longtable</TT
> and <TT
CLASS="LITERAL"
>booktabs</TT
> packages.
          </P
></DD
><DT
><TT
CLASS="LITERAL"
>linestyle</TT
></DT
><DD
><P
>          Sets the border line drawing style to one
          of <TT
CLASS="LITERAL"
>ascii</TT
>, <TT
CLASS="LITERAL"
>old-ascii</TT
>
          or <TT
CLASS="LITERAL"
>unicode</TT
>.
          Unique abbreviations are allowed.  (That would mean one
          letter is enough.)
          The default setting is <TT
CLASS="LITERAL"
>ascii</TT
>.
          This option only affects the <TT
CLASS="LITERAL"
>aligned</TT
> and
          <TT
CLASS="LITERAL"
>wrapped</TT
> output formats.
          </P
><P
><TT
CLASS="LITERAL"
>ascii</TT
> style uses plain <ACRONYM
CLASS="ACRONYM"
>ASCII</ACRONYM
>
          characters.  Newlines in data are shown using
          a <TT
CLASS="LITERAL"
>+</TT
> symbol in the right-hand margin.
          When the <TT
CLASS="LITERAL"
>wrapped</TT
> format wraps data from
          one line to the next without a newline character, a dot
          (<TT
CLASS="LITERAL"
>.</TT
>) is shown in the right-hand margin of the first line,
          and again in the left-hand margin of the following line.
          </P
><P
><TT
CLASS="LITERAL"
>old-ascii</TT
> style uses plain <ACRONYM
CLASS="ACRONYM"
>ASCII</ACRONYM
>
          characters, using the formatting style used
          in <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 8.4 and earlier.
          Newlines in data are shown using a <TT
CLASS="LITERAL"
>:</TT
>
          symbol in place of the left-hand column separator.
          When the data is wrapped from one line
          to the next without a newline character, a <TT
CLASS="LITERAL"
>;</TT
>
          symbol is used in place of the left-hand column separator.
          </P
><P
><TT
CLASS="LITERAL"
>unicode</TT
> style uses Unicode box-drawing characters.
          Newlines in data are shown using a carriage return symbol
          in the right-hand margin.  When the data is wrapped from one line
          to the next without a newline character, an ellipsis symbol
          is shown in the right-hand margin of the first line, and
          again in the left-hand margin of the following line.
          </P
><P
>          When the <TT
CLASS="LITERAL"
>border</TT
> setting is greater than zero,
          the <TT
CLASS="LITERAL"
>linestyle</TT
> option also determines the
          characters with which the border lines are drawn.
          Plain <ACRONYM
CLASS="ACRONYM"
>ASCII</ACRONYM
> characters work everywhere, but
          Unicode characters look nicer on displays that recognize them.
          </P
></DD
><DT
><TT
CLASS="LITERAL"
>null</TT
></DT
><DD
><P
>          Sets the string to be printed in place of a null value.
          The default is to print nothing, which can easily be mistaken for
          an empty string. For example, one might prefer <TT
CLASS="LITERAL"
>\pset null
          '(null)'</TT
>.
          </P
></DD
><DT
><TT
CLASS="LITERAL"
>numericlocale</TT
></DT
><DD
><P
>          If <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
> is specified
          it must be either <TT
CLASS="LITERAL"
>on</TT
> or <TT
CLASS="LITERAL"
>off</TT
>
          which will enable or disable display of a locale-specific character
          to separate groups of digits to the left of the decimal marker.
          If <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
> is omitted the
          command toggles between regular and locale-specific numeric output.
          </P
></DD
><DT
><TT
CLASS="LITERAL"
>pager</TT
></DT
><DD
><P
>          Controls use of a pager program for query and <SPAN
CLASS="APPLICATION"
>psql</SPAN
>
          help output. If the environment variable <TT
CLASS="ENVAR"
>PAGER</TT
>
          is set, the output is piped to the specified program.
          Otherwise a platform-dependent default (such as
          <TT
CLASS="FILENAME"
>more</TT
>) is used.
          </P
><P
>          When the <TT
CLASS="LITERAL"
>pager</TT
> option is <TT
CLASS="LITERAL"
>off</TT
>, the pager
          program is not used. When the <TT
CLASS="LITERAL"
>pager</TT
> option is
          <TT
CLASS="LITERAL"
>on</TT
>, the pager is used when appropriate, i.e., when the
          output is to a terminal and will not fit on the screen.
          The <TT
CLASS="LITERAL"
>pager</TT
> option can also be set to <TT
CLASS="LITERAL"
>always</TT
>,
          which causes the pager to be used for all terminal output regardless
          of whether it fits on the screen.  <TT
CLASS="LITERAL"
>\pset pager</TT
>
          without a <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
>
          toggles pager use on and off.
          </P
></DD
><DT
><TT
CLASS="LITERAL"
>pager_min_lines</TT
></DT
><DD
><P
>          If <TT
CLASS="LITERAL"
>pager_min_lines</TT
> is set to a number greater than the
          page height, the pager program will not be called unless there are
          at least this many lines of output to show. The default setting
          is 0.
          </P
></DD
><DT
><TT
CLASS="LITERAL"
>recordsep</TT
></DT
><DD
><P
>          Specifies the record (line) separator to use in unaligned
          output format. The default is a newline character.
          </P
></DD
><DT
><TT
CLASS="LITERAL"
>recordsep_zero</TT
></DT
><DD
><P
>          Sets the record separator to use in unaligned output format to a zero
          byte.
          </P
></DD
><DT
><TT
CLASS="LITERAL"
>tableattr</TT
> (or <TT
CLASS="LITERAL"
>T</TT
>)</DT
><DD
><P
>          In <ACRONYM
CLASS="ACRONYM"
>HTML</ACRONYM
> format, this specifies attributes
          to be placed inside the <CODE
CLASS="SGMLTAG"
>table</CODE
> tag.  This
          could for example be <TT
CLASS="LITERAL"
>cellpadding</TT
> or
          <TT
CLASS="LITERAL"
>bgcolor</TT
>. Note that you probably don't want
          to specify <TT
CLASS="LITERAL"
>border</TT
> here, as that is already
          taken care of by <TT
CLASS="LITERAL"
>\pset border</TT
>.
          If no
          <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
> is given,
          the table attributes are unset.
          </P
><P
>          In <TT
CLASS="LITERAL"
>latex-longtable</TT
> format, this controls
          the proportional width of each column containing a left-aligned
          data type.  It is specified as a whitespace-separated list of values,
          e.g. <TT
CLASS="LITERAL"
>'0.2 0.2 0.6'</TT
>.  Unspecified output columns
          use the last specified value.
          </P
></DD
><DT
><TT
CLASS="LITERAL"
>title</TT
></DT
><DD
><P
>          Sets the table title for any subsequently printed tables. This
          can be used to give your output descriptive tags. If no
          <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
> is given,
          the title is unset.
          </P
></DD
><DT
><TT
CLASS="LITERAL"
>tuples_only</TT
> (or <TT
CLASS="LITERAL"
>t</TT
>)</DT
><DD
><P
>          If <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
> is specified
          it must be either <TT
CLASS="LITERAL"
>on</TT
> or <TT
CLASS="LITERAL"
>off</TT
>
          which will enable or disable tuples-only mode.
          If <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
> is omitted the
          command toggles between regular and tuples-only output.
          Regular output includes extra information such
          as column headers, titles, and various footers. In tuples-only
          mode, only actual table data is shown.
          </P
></DD
><DT
><TT
CLASS="LITERAL"
>unicode_border_linestyle</TT
></DT
><DD
><P
>          Sets the border drawing style for the <TT
CLASS="LITERAL"
>unicode</TT
>
          line style to one of <TT
CLASS="LITERAL"
>single</TT
>
          or <TT
CLASS="LITERAL"
>double</TT
>.
          </P
></DD
><DT
><TT
CLASS="LITERAL"
>unicode_column_linestyle</TT
></DT
><DD
><P
>          Sets the column drawing style for the <TT
CLASS="LITERAL"
>unicode</TT
>
          line style to one of <TT
CLASS="LITERAL"
>single</TT
>
          or <TT
CLASS="LITERAL"
>double</TT
>.
          </P
></DD
><DT
><TT
CLASS="LITERAL"
>unicode_header_linestyle</TT
></DT
><DD
><P
>          Sets the header drawing style for the <TT
CLASS="LITERAL"
>unicode</TT
>
          line style to one of <TT
CLASS="LITERAL"
>single</TT
>
          or <TT
CLASS="LITERAL"
>double</TT
>.
          </P
></DD
></DL
></DIV
><P>
        </P
><P
>        Illustrations of how these different formats look can be seen in
        the <A
HREF="app-psql.html#APP-PSQL-EXAMPLES"
><I
>Examples</I
></A
> section.
        </P
><DIV
CLASS="TIP"
><BLOCKQUOTE
CLASS="TIP"
><P
><B
>Tip: </B
>        There are various shortcut commands for <TT
CLASS="COMMAND"
>\pset</TT
>. See
        <TT
CLASS="COMMAND"
>\a</TT
>, <TT
CLASS="COMMAND"
>\C</TT
>, <TT
CLASS="COMMAND"
>\H</TT
>,
        <TT
CLASS="COMMAND"
>\t</TT
>, <TT
CLASS="COMMAND"
>\T</TT
>, and <TT
CLASS="COMMAND"
>\x</TT
>.
        </P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="LITERAL"
>\q</TT
> or <TT
CLASS="LITERAL"
>\quit</TT
></DT
><DD
><P
>        Quits the <SPAN
CLASS="APPLICATION"
>psql</SPAN
> program.
        In a script file, only execution of that script is terminated.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\qecho <TT
CLASS="REPLACEABLE"
><I
>text</I
></TT
> [ ... ] </TT
></DT
><DD
><P
>        This command is identical to <TT
CLASS="COMMAND"
>\echo</TT
> except
        that the output will be written to the query output channel, as
        set by <TT
CLASS="COMMAND"
>\o</TT
>.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\r</TT
> or <TT
CLASS="LITERAL"
>\reset</TT
></DT
><DD
><P
>        Resets (clears) the query buffer.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\s [ <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
> ]</TT
></DT
><DD
><P
>        Print <SPAN
CLASS="APPLICATION"
>psql</SPAN
>'s command line history
        to <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
>.
        If <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
> is omitted,
        the history is written to the standard output (using the pager if
        appropriate).  This command is not available
        if <SPAN
CLASS="APPLICATION"
>psql</SPAN
> was built
        without <SPAN
CLASS="APPLICATION"
>Readline</SPAN
> support.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\set [ <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
> [ <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
> [ ... ] ] ]</TT
></DT
><DD
><P
>        Sets the <SPAN
CLASS="APPLICATION"
>psql</SPAN
> variable <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
> to <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
>, or if more than one value
        is given, to the concatenation of all of them. If only one
        argument is given, the variable is set with an empty value. To
        unset a variable, use the <TT
CLASS="COMMAND"
>\unset</TT
> command.
        </P
><P
><TT
CLASS="COMMAND"
>\set</TT
> without any arguments displays the names and values
        of all currently-set <SPAN
CLASS="APPLICATION"
>psql</SPAN
> variables.
        </P
><P
>        Valid variable names can contain letters, digits, and
        underscores. See the section <A
HREF="app-psql.html#APP-PSQL-VARIABLES"
><I
>Variables</I
></A
> below for details.
        Variable names are case-sensitive.
        </P
><P
>        Although you are welcome to set any variable to anything you
        want, <SPAN
CLASS="APPLICATION"
>psql</SPAN
> treats several variables
        as special. They are documented in the section about variables.
        </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>        This command is unrelated to the <ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>
        command <A
HREF="sql-set.html"
>SET</A
>.
        </P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="LITERAL"
>\setenv <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
> [ <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
> ]</TT
></DT
><DD
><P
>        Sets the environment variable <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
> to <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
>, or if the
        <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
> is
        not supplied, unsets the environment variable. Example:
</P><PRE
CLASS="PROGRAMLISTING"
>testdb=&gt; <KBD
CLASS="USERINPUT"
>\setenv PAGER less</KBD
>
testdb=&gt; <KBD
CLASS="USERINPUT"
>\setenv LESS -imx4F</KBD
></PRE
><P></P
></DD
><DT
><TT
CLASS="LITERAL"
>\sf[+] <TT
CLASS="REPLACEABLE"
><I
>function_description</I
></TT
> </TT
></DT
><DD
><P
>         This command fetches and shows the definition of the named function,
         in the form of a <TT
CLASS="COMMAND"
>CREATE OR REPLACE FUNCTION</TT
> command.
         The definition is printed to the current query output channel,
         as set by <TT
CLASS="COMMAND"
>\o</TT
>.
        </P
><P
>         The target function can be specified by name alone, or by name
         and arguments, for example <TT
CLASS="LITERAL"
>foo(integer, text)</TT
>.
         The argument types must be given if there is more
         than one function of the same name.
        </P
><P
>         If <TT
CLASS="LITERAL"
>+</TT
> is appended to the command name, then the
         output lines are numbered, with the first line of the function body
         being line 1.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\t</TT
></DT
><DD
><P
>        Toggles the display of output column name headings and row count
        footer. This command is equivalent to <TT
CLASS="LITERAL"
>\pset
        tuples_only</TT
> and is provided for convenience.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\T <TT
CLASS="REPLACEABLE"
><I
>table_options</I
></TT
></TT
></DT
><DD
><P
>        Specifies attributes to be placed within the
        <CODE
CLASS="SGMLTAG"
>table</CODE
> tag in <ACRONYM
CLASS="ACRONYM"
>HTML</ACRONYM
>
        output format. This command is equivalent to <TT
CLASS="LITERAL"
>\pset
        tableattr <TT
CLASS="REPLACEABLE"
><I
>table_options</I
></TT
></TT
>.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\timing [ <TT
CLASS="REPLACEABLE"
><I
>on</I
></TT
> | <TT
CLASS="REPLACEABLE"
><I
>off</I
></TT
> ]</TT
></DT
><DD
><P
>         Without parameter, toggles a display of how long each SQL statement
         takes, in milliseconds.  With parameter, sets same.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\unset <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
></TT
></DT
><DD
><P
>        Unsets (deletes) the <SPAN
CLASS="APPLICATION"
>psql</SPAN
> variable <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
>.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\w</TT
> or <TT
CLASS="LITERAL"
>\write</TT
> <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
><BR><TT
CLASS="LITERAL"
>\w</TT
> or <TT
CLASS="LITERAL"
>\write</TT
> <TT
CLASS="LITERAL"
>|</TT
><TT
CLASS="REPLACEABLE"
><I
>command</I
></TT
></DT
><DD
><P
>        Outputs the current query buffer to the file <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
> or pipes it to the shell
        command <TT
CLASS="REPLACEABLE"
><I
>command</I
></TT
>.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\watch [ <TT
CLASS="REPLACEABLE"
><I
>seconds</I
></TT
> ]</TT
></DT
><DD
><P
>        Repeatedly execute the current query buffer (like <TT
CLASS="LITERAL"
>\g</TT
>)
        until interrupted or the query fails.  Wait the specified number of
        seconds (default 2) between executions.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\x [ <TT
CLASS="REPLACEABLE"
><I
>on</I
></TT
> | <TT
CLASS="REPLACEABLE"
><I
>off</I
></TT
> | <TT
CLASS="REPLACEABLE"
><I
>auto</I
></TT
> ]</TT
></DT
><DD
><P
>        Sets or toggles expanded table formatting mode. As such it is equivalent to
        <TT
CLASS="LITERAL"
>\pset expanded</TT
>.
       </P
></DD
><DT
><TT
CLASS="LITERAL"
>\z [ <A
HREF="app-psql.html#APP-PSQL-PATTERNS"
><TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
></A
> ]</TT
></DT
><DD
><P
>        Lists tables, views and sequences with their
        associated access privileges.
        If a <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> is
        specified, only tables, views and sequences whose names match the
        pattern are listed.
        </P
><P
>        This is an alias for <TT
CLASS="COMMAND"
>\dp</TT
> (<SPAN
CLASS="QUOTE"
>"display
        privileges"</SPAN
>).
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\! [ <TT
CLASS="REPLACEABLE"
><I
>command</I
></TT
> ]</TT
></DT
><DD
><P
>        Escapes to a separate shell or executes the shell command
        <TT
CLASS="REPLACEABLE"
><I
>command</I
></TT
>. The
        arguments are not further interpreted; the shell will see them
        as-is.  In particular, the variable substitution rules and
        backslash escapes do not apply.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>\? [ <TT
CLASS="REPLACEABLE"
><I
>topic</I
></TT
> ]</TT
></DT
><DD
><P
>        Shows help information. The optional
        <TT
CLASS="REPLACEABLE"
><I
>topic</I
></TT
> parameter
        (defaulting to <TT
CLASS="LITERAL"
>commands</TT
>) selects which part of <SPAN
CLASS="APPLICATION"
>psql</SPAN
> is
        explained: <TT
CLASS="LITERAL"
>commands</TT
> describes <SPAN
CLASS="APPLICATION"
>psql</SPAN
>'s
        backslash commands; <TT
CLASS="LITERAL"
>options</TT
> describes the command-line
        options that can be passed to <SPAN
CLASS="APPLICATION"
>psql</SPAN
>;
        and <TT
CLASS="LITERAL"
>variables</TT
> shows help about <SPAN
CLASS="APPLICATION"
>psql</SPAN
> configuration
        variables.
        </P
></DD
></DL
></DIV
><P>
  </P
><DIV
CLASS="REFSECT3"
><A
NAME="APP-PSQL-PATTERNS"
></A
><H4
>Patterns</H4
><P
>   The various <TT
CLASS="LITERAL"
>\d</TT
> commands accept a <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> parameter to specify the
   object name(s) to be displayed.  In the simplest case, a pattern
   is just the exact name of the object.  The characters within a
   pattern are normally folded to lower case, just as in SQL names;
   for example, <TT
CLASS="LITERAL"
>\dt FOO</TT
> will display the table named
   <TT
CLASS="LITERAL"
>foo</TT
>.  As in SQL names, placing double quotes around
   a pattern stops folding to lower case.  Should you need to include
   an actual double quote character in a pattern, write it as a pair
   of double quotes within a double-quote sequence; again this is in
   accord with the rules for SQL quoted identifiers.  For example,
   <TT
CLASS="LITERAL"
>\dt "FOO""BAR"</TT
> will display the table named
   <TT
CLASS="LITERAL"
>FOO"BAR</TT
> (not <TT
CLASS="LITERAL"
>foo"bar</TT
>).  Unlike the normal
   rules for SQL names, you can put double quotes around just part
   of a pattern, for instance <TT
CLASS="LITERAL"
>\dt FOO"FOO"BAR</TT
> will display
   the table named <TT
CLASS="LITERAL"
>fooFOObar</TT
>.
  </P
><P
>   Whenever the <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
> parameter
   is omitted completely, the <TT
CLASS="LITERAL"
>\d</TT
> commands display all objects
   that are visible in the current schema search path &mdash; this is
   equivalent to using <TT
CLASS="LITERAL"
>*</TT
> as the pattern.
   (An object is said to be <I
CLASS="FIRSTTERM"
>visible</I
> if its
   containing schema is in the search path and no object of the same
   kind and name appears earlier in the search path. This is equivalent to the
   statement that the object can be referenced by name without explicit
   schema qualification.)
   To see all objects in the database regardless of visibility,
   use <TT
CLASS="LITERAL"
>*.*</TT
> as the pattern.
  </P
><P
>   Within a pattern, <TT
CLASS="LITERAL"
>*</TT
> matches any sequence of characters
   (including no characters) and <TT
CLASS="LITERAL"
>?</TT
> matches any single character.
   (This notation is comparable to Unix shell file name patterns.)
   For example, <TT
CLASS="LITERAL"
>\dt int*</TT
> displays tables whose names
   begin with <TT
CLASS="LITERAL"
>int</TT
>.  But within double quotes, <TT
CLASS="LITERAL"
>*</TT
>
   and <TT
CLASS="LITERAL"
>?</TT
> lose these special meanings and are just matched
   literally.
  </P
><P
>   A pattern that contains a dot (<TT
CLASS="LITERAL"
>.</TT
>) is interpreted as a schema
   name pattern followed by an object name pattern.  For example,
   <TT
CLASS="LITERAL"
>\dt foo*.*bar*</TT
> displays all tables whose table name
   includes <TT
CLASS="LITERAL"
>bar</TT
> that are in schemas whose schema name
   starts with <TT
CLASS="LITERAL"
>foo</TT
>.  When no dot appears, then the pattern
   matches only objects that are visible in the current schema search path.
   Again, a dot within double quotes loses its special meaning and is matched
   literally.
  </P
><P
>   Advanced users can use regular-expression notations such as character
   classes, for example <TT
CLASS="LITERAL"
>[0-9]</TT
> to match any digit.  All regular
   expression special characters work as specified in
   <A
HREF="functions-matching.html#FUNCTIONS-POSIX-REGEXP"
>Section 9.7.3</A
>, except for <TT
CLASS="LITERAL"
>.</TT
> which
   is taken as a separator as mentioned above, <TT
CLASS="LITERAL"
>*</TT
> which is
   translated to the regular-expression notation <TT
CLASS="LITERAL"
>.*</TT
>,
   <TT
CLASS="LITERAL"
>?</TT
> which is translated to <TT
CLASS="LITERAL"
>.</TT
>, and
   <TT
CLASS="LITERAL"
>$</TT
> which is matched literally.  You can emulate
   these pattern characters at need by writing
   <TT
CLASS="LITERAL"
>?</TT
> for <TT
CLASS="LITERAL"
>.</TT
>,
   <TT
CLASS="LITERAL"
>(<TT
CLASS="REPLACEABLE"
><I
>R</I
></TT
>+|)</TT
> for
   <TT
CLASS="LITERAL"
><TT
CLASS="REPLACEABLE"
><I
>R</I
></TT
>*</TT
>, or
   <TT
CLASS="LITERAL"
>(<TT
CLASS="REPLACEABLE"
><I
>R</I
></TT
>|)</TT
> for
   <TT
CLASS="LITERAL"
><TT
CLASS="REPLACEABLE"
><I
>R</I
></TT
>?</TT
>.
   <TT
CLASS="LITERAL"
>$</TT
> is not needed as a regular-expression character since
   the pattern must match the whole name, unlike the usual
   interpretation of regular expressions (in other words, <TT
CLASS="LITERAL"
>$</TT
>
   is automatically appended to your pattern).  Write <TT
CLASS="LITERAL"
>*</TT
> at the
   beginning and/or end if you don't wish the pattern to be anchored.
   Note that within double quotes, all regular expression special characters
   lose their special meanings and are matched literally.  Also, the regular
   expression special characters are matched literally in operator name
   patterns (i.e., the argument of <TT
CLASS="LITERAL"
>\do</TT
>).
  </P
></DIV
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="AEN96231"
></A
><H3
>Advanced Features</H3
><DIV
CLASS="REFSECT3"
><A
NAME="APP-PSQL-VARIABLES"
></A
><H4
>Variables</H4
><P
>    <SPAN
CLASS="APPLICATION"
>psql</SPAN
> provides variable substitution
    features similar to common Unix command shells.
    Variables are simply name/value pairs, where the value
    can be any string of any length.  The name must consist of letters
    (including non-Latin letters), digits, and underscores.
    </P
><P
>    To set a variable, use the <SPAN
CLASS="APPLICATION"
>psql</SPAN
> meta-command
    <TT
CLASS="COMMAND"
>\set</TT
>.  For example,
</P><PRE
CLASS="PROGRAMLISTING"
>testdb=&gt; <KBD
CLASS="USERINPUT"
>\set foo bar</KBD
></PRE
><P>
    sets the variable <TT
CLASS="LITERAL"
>foo</TT
> to the value
    <TT
CLASS="LITERAL"
>bar</TT
>. To retrieve the content of the variable, precede
    the name with a colon, for example:
</P><PRE
CLASS="PROGRAMLISTING"
>testdb=&gt; <KBD
CLASS="USERINPUT"
>\echo :foo</KBD
>
bar</PRE
><P>
    This works in both regular SQL commands and meta-commands; there is
    more detail in <A
HREF="app-psql.html#APP-PSQL-INTERPOLATION"
><I
><I
>SQL</I
> Interpolation</I
></A
>, below.
    </P
><P
>    If you call <TT
CLASS="COMMAND"
>\set</TT
> without a second argument, the
    variable is set, with an empty string as value. To unset (i.e., delete)
    a variable, use the command <TT
CLASS="COMMAND"
>\unset</TT
>.  To show the
    values of all variables, call <TT
CLASS="COMMAND"
>\set</TT
> without any argument.
    </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>    The arguments of <TT
CLASS="COMMAND"
>\set</TT
> are subject to the same
    substitution rules as with other commands. Thus you can construct
    interesting references such as <TT
CLASS="LITERAL"
>\set :foo
    'something'</TT
> and get <SPAN
CLASS="QUOTE"
>"soft links"</SPAN
> or
    <SPAN
CLASS="QUOTE"
>"variable variables"</SPAN
> of <SPAN
CLASS="PRODUCTNAME"
>Perl</SPAN
>
    or <SPAN
CLASS="PRODUCTNAME"
><ACRONYM
CLASS="ACRONYM"
>PHP</ACRONYM
></SPAN
> fame,
    respectively. Unfortunately (or fortunately?), there is no way to do
    anything useful with these constructs. On the other hand,
    <TT
CLASS="LITERAL"
>\set bar :foo</TT
> is a perfectly valid way to copy a
    variable.
    </P
></BLOCKQUOTE
></DIV
><P
>    A number of these variables are treated specially
    by <SPAN
CLASS="APPLICATION"
>psql</SPAN
>. They represent certain option
    settings that can be changed at run time by altering the value of
    the variable, or in some cases represent changeable state of
    <SPAN
CLASS="APPLICATION"
>psql</SPAN
>. Although
    you can use these variables for other purposes, this is not
    recommended, as the program behavior might grow really strange
    really quickly. By convention, all specially treated variables' names
    consist of all upper-case ASCII letters (and possibly digits and
    underscores). To ensure maximum compatibility in the future, avoid
    using such variable names for your own purposes. A list of all specially
    treated variables follows.
   </P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="VARNAME"
>AUTOCOMMIT</TT
>
       </DT
><DD
><P
>        When <TT
CLASS="LITERAL"
>on</TT
> (the default), each SQL command is automatically
        committed upon successful completion.  To postpone commit in this
        mode, you must enter a <TT
CLASS="COMMAND"
>BEGIN</TT
> or <TT
CLASS="COMMAND"
>START
        TRANSACTION</TT
> SQL command.  When <TT
CLASS="LITERAL"
>off</TT
> or unset, SQL
        commands are not committed until you explicitly issue
        <TT
CLASS="COMMAND"
>COMMIT</TT
> or <TT
CLASS="COMMAND"
>END</TT
>.  The autocommit-off
        mode works by issuing an implicit <TT
CLASS="COMMAND"
>BEGIN</TT
> for you, just
        before any command that is not already in a transaction block and
        is not itself a <TT
CLASS="COMMAND"
>BEGIN</TT
> or other transaction-control
        command, nor a command that cannot be executed inside a transaction
        block (such as <TT
CLASS="COMMAND"
>VACUUM</TT
>).
        </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>         In autocommit-off mode, you must explicitly abandon any failed
         transaction by entering <TT
CLASS="COMMAND"
>ABORT</TT
> or <TT
CLASS="COMMAND"
>ROLLBACK</TT
>.
         Also keep in mind that if you exit the session
         without committing, your work will be lost.
        </P
></BLOCKQUOTE
></DIV
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>         The autocommit-on mode is <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>'s traditional
         behavior, but autocommit-off is closer to the SQL spec.  If you
         prefer autocommit-off, you might wish to set it in the system-wide
         <TT
CLASS="FILENAME"
>psqlrc</TT
> file or your
         <TT
CLASS="FILENAME"
>~/.psqlrc</TT
> file.
        </P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="VARNAME"
>COMP_KEYWORD_CASE</TT
></DT
><DD
><P
>        Determines which letter case to use when completing an SQL key word.
        If set to <TT
CLASS="LITERAL"
>lower</TT
> or <TT
CLASS="LITERAL"
>upper</TT
>, the
        completed word will be in lower or upper case, respectively.  If set
        to <TT
CLASS="LITERAL"
>preserve-lower</TT
>
        or <TT
CLASS="LITERAL"
>preserve-upper</TT
> (the default), the completed word
        will be in the case of the word already entered, but words being
        completed without anything entered will be in lower or upper case,
        respectively.
        </P
></DD
><DT
><TT
CLASS="VARNAME"
>DBNAME</TT
></DT
><DD
><P
>        The name of the database you are currently connected to. This is
        set every time you connect to a database (including program
        start-up), but can be unset.
        </P
></DD
><DT
><TT
CLASS="VARNAME"
>ECHO</TT
></DT
><DD
><P
>        If set to <TT
CLASS="LITERAL"
>all</TT
>, all nonempty input lines are printed
        to standard output as they are read.  (This does not apply to lines
        read interactively.)  To select this behavior on program
        start-up, use the switch <TT
CLASS="OPTION"
>-a</TT
>. If set to
        <TT
CLASS="LITERAL"
>queries</TT
>,
        <SPAN
CLASS="APPLICATION"
>psql</SPAN
> prints each query to standard output
        as it is sent to the server. The switch for this is
        <TT
CLASS="OPTION"
>-e</TT
>. If set to <TT
CLASS="LITERAL"
>errors</TT
>, then only
        failed queries are displayed on standard error output. The switch
        for this is <TT
CLASS="OPTION"
>-b</TT
>. If unset, or if set to
        <TT
CLASS="LITERAL"
>none</TT
> (or any other value than those above) then
        no queries are displayed.
        </P
></DD
><DT
><TT
CLASS="VARNAME"
>ECHO_HIDDEN</TT
></DT
><DD
><P
>        When this variable is set to <TT
CLASS="LITERAL"
>on</TT
> and a backslash command
        queries the database, the query is first shown.
        This feature helps you to study
        <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> internals and provide
        similar functionality in your own programs. (To select this behavior
        on program start-up, use the switch <TT
CLASS="OPTION"
>-E</TT
>.)  If you set
        the variable to the value <TT
CLASS="LITERAL"
>noexec</TT
>, the queries are
        just shown but are not actually sent to the server and executed.
        </P
></DD
><DT
><TT
CLASS="VARNAME"
>ENCODING</TT
></DT
><DD
><P
>        The current client character set encoding.
        </P
></DD
><DT
><TT
CLASS="VARNAME"
>FETCH_COUNT</TT
></DT
><DD
><P
>        If this variable is set to an integer value &gt; 0,
        the results of <TT
CLASS="COMMAND"
>SELECT</TT
> queries are fetched
        and displayed in groups of that many rows, rather than the
        default behavior of collecting the entire result set before
        display.  Therefore only a
        limited amount of memory is used, regardless of the size of
        the result set.  Settings of 100 to 1000 are commonly used
        when enabling this feature.
        Keep in mind that when using this feature, a query might
        fail after having already displayed some rows.
        </P
><DIV
CLASS="TIP"
><BLOCKQUOTE
CLASS="TIP"
><P
><B
>Tip: </B
>        Although you can use any output format with this feature,
        the default <TT
CLASS="LITERAL"
>aligned</TT
> format tends to look bad
        because each group of <TT
CLASS="VARNAME"
>FETCH_COUNT</TT
> rows
        will be formatted separately, leading to varying column
        widths across the row groups.  The other output formats work better.
        </P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="VARNAME"
>HISTCONTROL</TT
></DT
><DD
><P
>         If this variable is set to <TT
CLASS="LITERAL"
>ignorespace</TT
>,
         lines which begin with a space are not entered into the history
         list. If set to a value of <TT
CLASS="LITERAL"
>ignoredups</TT
>, lines
         matching the previous history line are not entered. A value of
         <TT
CLASS="LITERAL"
>ignoreboth</TT
> combines the two options. If
         unset, or if set to <TT
CLASS="LITERAL"
>none</TT
> (or any other value
         than those above), all lines read in interactive mode are
         saved on the history list.
        </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>        This feature was shamelessly plagiarized from
        <SPAN
CLASS="APPLICATION"
>Bash</SPAN
>.
        </P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="VARNAME"
>HISTFILE</TT
></DT
><DD
><P
>        The file name that will be used to store the history list. The default
        value is <TT
CLASS="FILENAME"
>~/.psql_history</TT
>.  For example, putting:
</P><PRE
CLASS="PROGRAMLISTING"
>\set HISTFILE ~/.psql_history- :DBNAME</PRE
><P>
        in <TT
CLASS="FILENAME"
>~/.psqlrc</TT
> will cause
        <SPAN
CLASS="APPLICATION"
>psql</SPAN
> to maintain a separate history for
        each database.
        </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>        This feature was shamelessly plagiarized from
        <SPAN
CLASS="APPLICATION"
>Bash</SPAN
>.
        </P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="VARNAME"
>HISTSIZE</TT
></DT
><DD
><P
>        The number of commands to store in the command history. The
        default value is 500.
        </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>        This feature was shamelessly plagiarized from
        <SPAN
CLASS="APPLICATION"
>Bash</SPAN
>.
        </P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="VARNAME"
>HOST</TT
></DT
><DD
><P
>        The database server host you are currently connected to. This is
        set every time you connect to a database (including program
        start-up), but can be unset.
        </P
></DD
><DT
><TT
CLASS="VARNAME"
>IGNOREEOF</TT
></DT
><DD
><P
>         If unset, sending an <ACRONYM
CLASS="ACRONYM"
>EOF</ACRONYM
> character (usually
         <B
CLASS="KEYCAP"
>Control</B
>+<B
CLASS="KEYCAP"
>D</B
>)
         to an interactive session of <SPAN
CLASS="APPLICATION"
>psql</SPAN
>
         will terminate the application. If set to a numeric value,
         that many <ACRONYM
CLASS="ACRONYM"
>EOF</ACRONYM
> characters are ignored before the
         application terminates.  If the variable is set but has no
         numeric value, the default is 10.
        </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>        This feature was shamelessly plagiarized from
        <SPAN
CLASS="APPLICATION"
>Bash</SPAN
>.
        </P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="VARNAME"
>LASTOID</TT
></DT
><DD
><P
>        The value of the last affected OID, as returned from an
        <TT
CLASS="COMMAND"
>INSERT</TT
> or <TT
CLASS="COMMAND"
>\lo_import</TT
>
        command. This variable is only guaranteed to be valid until
        after the result of the next <ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
> command has
        been displayed.
        </P
></DD
><DT
><TT
CLASS="VARNAME"
>ON_ERROR_ROLLBACK</TT
>
       </DT
><DD
><P
>        When set to <TT
CLASS="LITERAL"
>on</TT
>, if a statement in a transaction block
        generates an error, the error is ignored and the transaction
        continues. When set to <TT
CLASS="LITERAL"
>interactive</TT
>, such errors are only
        ignored in interactive sessions, and not when reading script
        files. When unset or set to <TT
CLASS="LITERAL"
>off</TT
>, a statement in a
        transaction block that generates an error aborts the entire
        transaction. The error rollback mode works by issuing an
        implicit <TT
CLASS="COMMAND"
>SAVEPOINT</TT
> for you, just before each command
        that is in a transaction block, and then rolling back to the
        savepoint if the command fails.
        </P
></DD
><DT
><TT
CLASS="VARNAME"
>ON_ERROR_STOP</TT
></DT
><DD
><P
>        By default, command processing continues after an error.  When this
        variable is set to <TT
CLASS="LITERAL"
>on</TT
>, processing will instead stop
        immediately.  In interactive mode,
        <SPAN
CLASS="APPLICATION"
>psql</SPAN
> will return to the command prompt;
        otherwise, <SPAN
CLASS="APPLICATION"
>psql</SPAN
> will exit, returning
        error code 3 to distinguish this case from fatal error
        conditions, which are reported using error code 1.  In either case,
        any currently running scripts (the top-level script, if any, and any
        other scripts which it may have in invoked) will be terminated
        immediately.  If the top-level command string contained multiple SQL
        commands, processing will stop with the current command.
        </P
></DD
><DT
><TT
CLASS="VARNAME"
>PORT</TT
></DT
><DD
><P
>        The database server port to which you are currently connected.
        This is set every time you connect to a database (including
        program start-up), but can be unset.
        </P
></DD
><DT
><TT
CLASS="VARNAME"
>PROMPT1</TT
><BR><TT
CLASS="VARNAME"
>PROMPT2</TT
><BR><TT
CLASS="VARNAME"
>PROMPT3</TT
></DT
><DD
><P
>        These specify what the prompts <SPAN
CLASS="APPLICATION"
>psql</SPAN
>
        issues should look like. See <A
HREF="app-psql.html#APP-PSQL-PROMPTING"
><I
>Prompting</I
></A
> below.
        </P
></DD
><DT
><TT
CLASS="VARNAME"
>QUIET</TT
></DT
><DD
><P
>        Setting this variable to <TT
CLASS="LITERAL"
>on</TT
> is equivalent to the command
        line option <TT
CLASS="OPTION"
>-q</TT
>. It is probably not too useful in
        interactive mode.
        </P
></DD
><DT
><TT
CLASS="VARNAME"
>SINGLELINE</TT
></DT
><DD
><P
>        Setting this variable to <TT
CLASS="LITERAL"
>on</TT
> is equivalent to the command
        line option <TT
CLASS="OPTION"
>-S</TT
>.
        </P
></DD
><DT
><TT
CLASS="VARNAME"
>SINGLESTEP</TT
></DT
><DD
><P
>        Setting this variable to <TT
CLASS="LITERAL"
>on</TT
> is equivalent to the command
        line option <TT
CLASS="OPTION"
>-s</TT
>.
        </P
></DD
><DT
><TT
CLASS="VARNAME"
>USER</TT
></DT
><DD
><P
>        The database user you are currently connected as. This is set
        every time you connect to a database (including program
        start-up), but can be unset.
        </P
></DD
><DT
><TT
CLASS="VARNAME"
>VERBOSITY</TT
></DT
><DD
><P
>        This variable can be set to the values <TT
CLASS="LITERAL"
>default</TT
>,
        <TT
CLASS="LITERAL"
>verbose</TT
>, or <TT
CLASS="LITERAL"
>terse</TT
> to control the verbosity
        of error reports.
        </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="APP-PSQL-INTERPOLATION"
></A
><H4
><ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
> Interpolation</H4
><P
>    A key feature of <SPAN
CLASS="APPLICATION"
>psql</SPAN
>
    variables is that you can substitute (<SPAN
CLASS="QUOTE"
>"interpolate"</SPAN
>)
    them into regular <ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
> statements, as well as the
    arguments of meta-commands.  Furthermore,
    <SPAN
CLASS="APPLICATION"
>psql</SPAN
> provides facilities for
    ensuring that variable values used as SQL literals and identifiers are
    properly quoted.  The syntax for interpolating a value without
    any quoting is to prepend the variable name with a colon
    (<TT
CLASS="LITERAL"
>:</TT
>).  For example,
</P><PRE
CLASS="PROGRAMLISTING"
>testdb=&gt; <KBD
CLASS="USERINPUT"
>\set foo 'my_table'</KBD
>
testdb=&gt; <KBD
CLASS="USERINPUT"
>SELECT * FROM :foo;</KBD
></PRE
><P>
    would query the table <TT
CLASS="LITERAL"
>my_table</TT
>. Note that this
    may be unsafe: the value of the variable is copied literally, so it can
    contain unbalanced quotes, or even backslash commands. You must make sure
    that it makes sense where you put it.
    </P
><P
>    When a value is to be used as an SQL literal or identifier, it is
    safest to arrange for it to be quoted.  To quote the value of
    a variable as an SQL literal, write a colon followed by the variable
    name in single quotes.  To quote the value as an SQL identifier, write
    a colon followed by the variable name in double quotes.
    These constructs deal correctly with quotes and other special
    characters embedded within the variable value.
    The previous example would be more safely written this way:
</P><PRE
CLASS="PROGRAMLISTING"
>testdb=&gt; <KBD
CLASS="USERINPUT"
>\set foo 'my_table'</KBD
>
testdb=&gt; <KBD
CLASS="USERINPUT"
>SELECT * FROM :"foo";</KBD
></PRE
><P>
    </P
><P
>    Variable interpolation will not be performed within quoted
    <ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
> literals and identifiers.  Therefore, a
    construction such as <TT
CLASS="LITERAL"
>':foo'</TT
> doesn't work to produce a quoted
    literal from a variable's value (and it would be unsafe if it did work,
    since it wouldn't correctly handle quotes embedded in the value).
    </P
><P
>    One example use of this mechanism is to
    copy the contents of a file into a table column.
    First load the file into a variable and then interpolate the variable's
    value as a quoted string:
</P><PRE
CLASS="PROGRAMLISTING"
>testdb=&gt; <KBD
CLASS="USERINPUT"
>\set content `cat my_file.txt`</KBD
>
testdb=&gt; <KBD
CLASS="USERINPUT"
>INSERT INTO my_table VALUES (:'content');</KBD
></PRE
><P>
    (Note that this still won't work if <TT
CLASS="FILENAME"
>my_file.txt</TT
> contains NUL bytes.
    <SPAN
CLASS="APPLICATION"
>psql</SPAN
> does not support embedded NUL bytes in variable values.)
    </P
><P
>    Since colons can legally appear in SQL commands, an apparent attempt
    at interpolation (that is, <TT
CLASS="LITERAL"
>:name</TT
>,
    <TT
CLASS="LITERAL"
>:'name'</TT
>, or <TT
CLASS="LITERAL"
>:"name"</TT
>) is not
    replaced unless the named variable is currently set. In any case, you
    can escape a colon with a backslash to protect it from substitution.
    </P
><P
>    The colon syntax for variables is standard <ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
> for
    embedded query languages, such as <SPAN
CLASS="APPLICATION"
>ECPG</SPAN
>.
    The colon syntaxes for array slices and type casts are
    <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> extensions, which can sometimes
    conflict with the standard usage.  The colon-quote syntax for escaping a
    variable's value as an SQL literal or identifier is a
    <SPAN
CLASS="APPLICATION"
>psql</SPAN
> extension.
    </P
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="APP-PSQL-PROMPTING"
></A
><H4
>Prompting</H4
><P
>    The prompts <SPAN
CLASS="APPLICATION"
>psql</SPAN
> issues can be customized
    to your preference. The three variables <TT
CLASS="VARNAME"
>PROMPT1</TT
>,
    <TT
CLASS="VARNAME"
>PROMPT2</TT
>, and <TT
CLASS="VARNAME"
>PROMPT3</TT
> contain strings
    and special escape sequences that describe the appearance of the
    prompt. Prompt 1 is the normal prompt that is issued when
    <SPAN
CLASS="APPLICATION"
>psql</SPAN
> requests a new command. Prompt 2 is
    issued when more input is expected during command entry, for example
    because the command was not terminated with a semicolon or a quote
    was not closed.
    Prompt 3 is issued when you are running an <ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>
    <TT
CLASS="COMMAND"
>COPY FROM STDIN</TT
> command and you need to type in
    a row value on the terminal.
    </P
><P
>    The value of the selected prompt variable is printed literally,
    except where a percent sign (<TT
CLASS="LITERAL"
>%</TT
>) is encountered.
    Depending on the next character, certain other text is substituted
    instead. Defined substitutions are:

    <P
></P
></P><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="LITERAL"
>%M</TT
></DT
><DD
><P
>          The full host name (with domain name) of the database server,
          or <TT
CLASS="LITERAL"
>[local]</TT
> if the connection is over a Unix
          domain socket, or
          <TT
CLASS="LITERAL"
>[local:<TT
CLASS="REPLACEABLE"
><I
>/dir/name</I
></TT
>]</TT
>,
          if the Unix domain socket is not at the compiled in default
          location.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>%m</TT
></DT
><DD
><P
>          The host name of the database server, truncated at the
          first dot, or <TT
CLASS="LITERAL"
>[local]</TT
> if the connection is
          over a Unix domain socket.
         </P
></DD
><DT
><TT
CLASS="LITERAL"
>%&gt;</TT
></DT
><DD
><P
>The port number at which the database server is listening.</P
></DD
><DT
><TT
CLASS="LITERAL"
>%n</TT
></DT
><DD
><P
>          The database session user name.  (The expansion of this
          value might change during a database session as the result
          of the command <TT
CLASS="COMMAND"
>SET SESSION
          AUTHORIZATION</TT
>.)
         </P
></DD
><DT
><TT
CLASS="LITERAL"
>%/</TT
></DT
><DD
><P
>The name of the current database.</P
></DD
><DT
><TT
CLASS="LITERAL"
>%~</TT
></DT
><DD
><P
>Like <TT
CLASS="LITERAL"
>%/</TT
>, but the output is <TT
CLASS="LITERAL"
>~</TT
>
         (tilde) if the database is your default database.</P
></DD
><DT
><TT
CLASS="LITERAL"
>%#</TT
></DT
><DD
><P
>          If the session user is a database superuser, then a
          <TT
CLASS="LITERAL"
>#</TT
>, otherwise a <TT
CLASS="LITERAL"
>&gt;</TT
>.
          (The expansion of this value might change during a database
          session as the result of the command <TT
CLASS="COMMAND"
>SET SESSION
          AUTHORIZATION</TT
>.)
         </P
></DD
><DT
><TT
CLASS="LITERAL"
>%R</TT
></DT
><DD
><P
>        In prompt 1 normally <TT
CLASS="LITERAL"
>=</TT
>,
        but <TT
CLASS="LITERAL"
>^</TT
> if in single-line mode,
        or <TT
CLASS="LITERAL"
>!</TT
> if the session is disconnected from the
        database (which can happen if <TT
CLASS="COMMAND"
>\connect</TT
> fails).
        In prompt 2 <TT
CLASS="LITERAL"
>%R</TT
> is replaced by a character that
        depends on why <SPAN
CLASS="APPLICATION"
>psql</SPAN
> expects more input:
        <TT
CLASS="LITERAL"
>-</TT
> if the command simply wasn't terminated yet,
        but <TT
CLASS="LITERAL"
>*</TT
> if there is an unfinished
        <TT
CLASS="LITERAL"
>/* ... */</TT
> comment,
        a single quote if there is an unfinished quoted string,
        a double quote if there is an unfinished quoted identifier,
        a dollar sign if there is an unfinished dollar-quoted string,
        or <TT
CLASS="LITERAL"
>(</TT
> if there is an unmatched left parenthesis.
        In prompt 3 <TT
CLASS="LITERAL"
>%R</TT
> doesn't produce anything.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>%x</TT
></DT
><DD
><P
>        Transaction status: an empty string when not in a transaction
        block, or <TT
CLASS="LITERAL"
>*</TT
> when in a transaction block, or
        <TT
CLASS="LITERAL"
>!</TT
> when in a failed transaction block, or <TT
CLASS="LITERAL"
>?</TT
>
        when the transaction state is indeterminate (for example, because
        there is no connection).
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>%l</TT
></DT
><DD
><P
>          The line number inside the current statement, starting from <TT
CLASS="LITERAL"
>1</TT
>.
         </P
></DD
><DT
><TT
CLASS="LITERAL"
>%</TT
><TT
CLASS="REPLACEABLE"
><I
>digits</I
></TT
></DT
><DD
><P
>        The character with the indicated octal code is substituted.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>%:</TT
><TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
><TT
CLASS="LITERAL"
>:</TT
></DT
><DD
><P
>        The value of the <SPAN
CLASS="APPLICATION"
>psql</SPAN
> variable
        <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
>. See the
        section <A
HREF="app-psql.html#APP-PSQL-VARIABLES"
><I
>Variables</I
></A
> for details.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>%`</TT
><TT
CLASS="REPLACEABLE"
><I
>command</I
></TT
><TT
CLASS="LITERAL"
>`</TT
></DT
><DD
><P
>        The output of <TT
CLASS="REPLACEABLE"
><I
>command</I
></TT
>, similar to ordinary
        <SPAN
CLASS="QUOTE"
>"back-tick"</SPAN
> substitution.
        </P
></DD
><DT
><TT
CLASS="LITERAL"
>%[</TT
> ... <TT
CLASS="LITERAL"
>%]</TT
></DT
><DD
><P
>         Prompts can contain terminal control characters which, for
         example, change the color, background, or style of the prompt
         text, or change the title of the terminal window. In order for
         the line editing features of <SPAN
CLASS="APPLICATION"
>Readline</SPAN
> to work properly, these
         non-printing control characters must be designated as invisible
         by surrounding them with <TT
CLASS="LITERAL"
>%[</TT
> and
         <TT
CLASS="LITERAL"
>%]</TT
>. Multiple pairs of these can occur within
         the prompt.  For example:
</P><PRE
CLASS="PROGRAMLISTING"
>testdb=&gt; \set PROMPT1 '%[%033[1;33;40m%]%n@%/%R%[%033[0m%]%# '</PRE
><P>
         results in a boldfaced (<TT
CLASS="LITERAL"
>1;</TT
>) yellow-on-black
         (<TT
CLASS="LITERAL"
>33;40</TT
>) prompt on VT100-compatible, color-capable
         terminals.
        </P
></DD
></DL
></DIV
><P>

    To insert a percent sign into your prompt, write
    <TT
CLASS="LITERAL"
>%%</TT
>. The default prompts are
    <TT
CLASS="LITERAL"
>'%/%R%# '</TT
> for prompts 1 and 2, and
    <TT
CLASS="LITERAL"
>'&gt;&gt; '</TT
> for prompt 3.
    </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>    This feature was shamelessly plagiarized from
    <SPAN
CLASS="APPLICATION"
>tcsh</SPAN
>.
    </P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="REFSECT3"
><A
NAME="AEN96637"
></A
><H4
>Command-Line Editing</H4
><P
>    <SPAN
CLASS="APPLICATION"
>psql</SPAN
> supports the <SPAN
CLASS="APPLICATION"
>Readline</SPAN
>
    library for convenient line editing and retrieval. The command
    history is automatically saved when <SPAN
CLASS="APPLICATION"
>psql</SPAN
>
    exits and is reloaded when
    <SPAN
CLASS="APPLICATION"
>psql</SPAN
> starts up. Tab-completion is also
    supported, although the completion logic makes no claim to be an
    <ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
> parser.  The queries generated by tab-completion
    can also interfere with other SQL commands, e.g. <TT
CLASS="LITERAL"
>SET
    TRANSACTION ISOLATION LEVEL</TT
>.
    If for some reason you do not like the tab completion, you
    can turn it off by putting this in a file named
    <TT
CLASS="FILENAME"
>.inputrc</TT
> in your home directory:
</P><PRE
CLASS="PROGRAMLISTING"
>$if psql
set disable-completion on
$endif</PRE
><P>
    (This is not a <SPAN
CLASS="APPLICATION"
>psql</SPAN
> but a
    <SPAN
CLASS="APPLICATION"
>Readline</SPAN
> feature. Read its documentation
    for further details.)
    </P
></DIV
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="APP-PSQL-ENVIRONMENT"
></A
><H2
>Environment</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="ENVAR"
>COLUMNS</TT
></DT
><DD
><P
>      If <TT
CLASS="LITERAL"
>\pset columns</TT
> is zero, controls the
      width for the <TT
CLASS="LITERAL"
>wrapped</TT
> format and width for determining
      if wide output requires the pager or should be switched to the
      vertical format in expanded auto mode.
     </P
></DD
><DT
><TT
CLASS="ENVAR"
>PAGER</TT
></DT
><DD
><P
>      If the query results do not fit on the screen, they are piped
      through this command.  Typical values are
      <TT
CLASS="LITERAL"
>more</TT
> or <TT
CLASS="LITERAL"
>less</TT
>.  The default
      is platform-dependent.  The use of the pager can be disabled by
      using the <TT
CLASS="COMMAND"
>\pset</TT
> command.
     </P
></DD
><DT
><TT
CLASS="ENVAR"
>PGDATABASE</TT
><BR><TT
CLASS="ENVAR"
>PGHOST</TT
><BR><TT
CLASS="ENVAR"
>PGPORT</TT
><BR><TT
CLASS="ENVAR"
>PGUSER</TT
></DT
><DD
><P
>      Default connection parameters (see <A
HREF="libpq-envars.html"
>Section 31.14</A
>).
     </P
></DD
><DT
><TT
CLASS="ENVAR"
>PSQL_EDITOR</TT
><BR><TT
CLASS="ENVAR"
>EDITOR</TT
><BR><TT
CLASS="ENVAR"
>VISUAL</TT
></DT
><DD
><P
>      Editor used by the <TT
CLASS="COMMAND"
>\e</TT
> and
      <TT
CLASS="COMMAND"
>\ef</TT
> commands.  The variables are examined in
      the order listed; the first that is set is used.
     </P
><P
>      The built-in default editors are <TT
CLASS="FILENAME"
>vi</TT
> on Unix
      systems and <TT
CLASS="FILENAME"
>notepad.exe</TT
> on Windows systems.
     </P
></DD
><DT
><TT
CLASS="ENVAR"
>PSQL_EDITOR_LINENUMBER_ARG</TT
></DT
><DD
><P
>      When <TT
CLASS="COMMAND"
>\e</TT
> or <TT
CLASS="COMMAND"
>\ef</TT
> is used
      with a line number argument, this variable specifies the
      command-line argument used to pass the starting line number to
      the user's editor.  For editors such as <SPAN
CLASS="PRODUCTNAME"
>Emacs</SPAN
> or
      <SPAN
CLASS="PRODUCTNAME"
>vi</SPAN
>, this is a plus sign.  Include a trailing
      space in the value of the variable if there needs to be space
      between the option name and the line number.  Examples:
</P><PRE
CLASS="PROGRAMLISTING"
>PSQL_EDITOR_LINENUMBER_ARG='+'
PSQL_EDITOR_LINENUMBER_ARG='--line '</PRE
><P>
     </P
><P
>      The default is <TT
CLASS="LITERAL"
>+</TT
> on Unix systems
      (corresponding to the default editor <TT
CLASS="FILENAME"
>vi</TT
>,
      and useful for many other common editors); but there is no
      default on Windows systems.
     </P
></DD
><DT
><TT
CLASS="ENVAR"
>PSQL_HISTORY</TT
></DT
><DD
><P
>      Alternative location for the command history file. Tilde (<TT
CLASS="LITERAL"
>~</TT
>) expansion is performed.
     </P
></DD
><DT
><TT
CLASS="ENVAR"
>PSQLRC</TT
></DT
><DD
><P
>      Alternative location of the user's <TT
CLASS="FILENAME"
>.psqlrc</TT
> file. Tilde (<TT
CLASS="LITERAL"
>~</TT
>) expansion is performed.
     </P
></DD
><DT
><TT
CLASS="ENVAR"
>SHELL</TT
></DT
><DD
><P
>      Command executed by the <TT
CLASS="COMMAND"
>\!</TT
> command.
     </P
></DD
><DT
><TT
CLASS="ENVAR"
>TMPDIR</TT
></DT
><DD
><P
>      Directory for storing temporary files.  The default is
      <TT
CLASS="FILENAME"
>/tmp</TT
>.
     </P
></DD
></DL
></DIV
><P
>   This utility, like most other <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> utilities,
   also uses the environment variables supported by <SPAN
CLASS="APPLICATION"
>libpq</SPAN
>
   (see <A
HREF="libpq-envars.html"
>Section 31.14</A
>).
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN96736"
></A
><H2
>Files</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="FILENAME"
>psqlrc</TT
> and <TT
CLASS="FILENAME"
>~/.psqlrc</TT
></DT
><DD
><P
>     Unless it is passed an <TT
CLASS="OPTION"
>-X</TT
> or <TT
CLASS="OPTION"
>-c</TT
> option,
     <SPAN
CLASS="APPLICATION"
>psql</SPAN
> attempts to read and execute commands
     from the system-wide startup file (<TT
CLASS="FILENAME"
>psqlrc</TT
>) and then
     the user's personal startup file (<TT
CLASS="FILENAME"
>~/.psqlrc</TT
>), after
     connecting to the database but before accepting normal commands.
     These files can be used to set up the client and/or the server to taste,
     typically with <TT
CLASS="COMMAND"
>\set</TT
> and <TT
CLASS="COMMAND"
>SET</TT
>
     commands.
    </P
><P
>     The system-wide startup file is named <TT
CLASS="FILENAME"
>psqlrc</TT
> and is
     sought in the installation's <SPAN
CLASS="QUOTE"
>"system configuration"</SPAN
> directory,
     which is most reliably identified by running <TT
CLASS="LITERAL"
>pg_config
     --sysconfdir</TT
>.  By default this directory will be <TT
CLASS="FILENAME"
>../etc/</TT
>
     relative to the directory containing
     the <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> executables.  The name of this
     directory can be set explicitly via the <TT
CLASS="ENVAR"
>PGSYSCONFDIR</TT
>
     environment variable.
    </P
><P
>     The user's personal startup file is named <TT
CLASS="FILENAME"
>.psqlrc</TT
>
     and is sought in the invoking user's home directory.  On Windows, which
     lacks such a concept, the personal startup file is named
     <TT
CLASS="FILENAME"
>%APPDATA%\postgresql\psqlrc.conf</TT
>.
     The location of the user's startup file can be set explicitly via
     the <TT
CLASS="ENVAR"
>PSQLRC</TT
> environment variable.
    </P
><P
>     Both the system-wide startup file and the user's personal startup file
     can be made <SPAN
CLASS="APPLICATION"
>psql</SPAN
>-version-specific
     by appending a dash and the <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>
     major or minor release number to the file name,
     for example <TT
CLASS="FILENAME"
>~/.psqlrc-9.2</TT
> or
     <TT
CLASS="FILENAME"
>~/.psqlrc-9.2.5</TT
>.  The most specific
     version-matching file will be read in preference to a
     non-version-specific file.
    </P
></DD
><DT
><TT
CLASS="FILENAME"
>.psql_history</TT
></DT
><DD
><P
>     The command-line history is stored in the file
     <TT
CLASS="FILENAME"
>~/.psql_history</TT
>, or
     <TT
CLASS="FILENAME"
>%APPDATA%\postgresql\psql_history</TT
> on Windows.
    </P
><P
>     The location of the history file can be set explicitly via
     the <TT
CLASS="ENVAR"
>PSQL_HISTORY</TT
> environment variable.
    </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN96777"
></A
><H2
>Notes</H2
><P
></P
><UL
><LI
><P
>       In an earlier life <SPAN
CLASS="APPLICATION"
>psql</SPAN
> allowed the
       first argument of a single-letter backslash command to start
       directly after the command, without intervening whitespace.
       As of <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 8.4 this is no
       longer allowed.
      </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>psql</SPAN
> works best with servers of the same
       or an older major version.  Backslash commands are particularly likely
       to fail if the server is of a newer version than <SPAN
CLASS="APPLICATION"
>psql</SPAN
>
       itself.  However, backslash commands of the <TT
CLASS="LITERAL"
>\d</TT
> family should
       work with servers of versions back to 7.4, though not necessarily with
       servers newer than <SPAN
CLASS="APPLICATION"
>psql</SPAN
> itself.  The general
       functionality of running SQL commands and displaying query results
       should also work with servers of a newer major version, but this cannot
       be guaranteed in all cases.
      </P
><P
>       If you want to use <SPAN
CLASS="APPLICATION"
>psql</SPAN
> to connect to several
       servers of different major versions, it is recommended that you use the
       newest version of <SPAN
CLASS="APPLICATION"
>psql</SPAN
>.  Alternatively, you
       can keep a copy of <SPAN
CLASS="APPLICATION"
>psql</SPAN
> from each major
       version around and be sure to use the version that matches the
       respective server.  But in practice, this additional complication should
       not be necessary.
      </P
></LI
></UL
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN96794"
></A
><H2
>Notes for Windows Users</H2
><P
>  <SPAN
CLASS="APPLICATION"
>psql</SPAN
> is built as a <SPAN
CLASS="QUOTE"
>"console
  application"</SPAN
>.  Since the Windows console windows use a different
  encoding than the rest of the system, you must take special care
  when using 8-bit characters within <SPAN
CLASS="APPLICATION"
>psql</SPAN
>.
  If <SPAN
CLASS="APPLICATION"
>psql</SPAN
> detects a problematic
  console code page, it will warn you at startup. To change the
  console code page, two things are necessary:

   <P
></P
></P><UL
><LI
><P
>      Set the code page by entering <KBD
CLASS="USERINPUT"
>cmd.exe /c chcp
      1252</KBD
>. (1252 is a code page that is appropriate for
      German; replace it with your value.) If you are using Cygwin,
      you can put this command in <TT
CLASS="FILENAME"
>/etc/profile</TT
>.
     </P
></LI
><LI
><P
>      Set the console font to <TT
CLASS="LITERAL"
>Lucida Console</TT
>, because the
      raster font does not work with the ANSI code page.
     </P
></LI
></UL
><P></P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="APP-PSQL-EXAMPLES"
></A
><H2
>Examples</H2
><P
>  The first example shows how to spread a command over several lines of
  input. Notice the changing prompt:
</P><PRE
CLASS="PROGRAMLISTING"
>testdb=&gt; <KBD
CLASS="USERINPUT"
>CREATE TABLE my_table (</KBD
>
testdb(&gt; <KBD
CLASS="USERINPUT"
> first integer not null default 0,</KBD
>
testdb(&gt; <KBD
CLASS="USERINPUT"
> second text)</KBD
>
testdb-&gt; <KBD
CLASS="USERINPUT"
>;</KBD
>
CREATE TABLE</PRE
><P>
  Now look at the table definition again:
</P><PRE
CLASS="PROGRAMLISTING"
>testdb=&gt; <KBD
CLASS="USERINPUT"
>\d my_table</KBD
>
             Table "my_table"
 Attribute |  Type   |      Modifier
-----------+---------+--------------------
 first     | integer | not null default 0
 second    | text    |&#13;</PRE
><P>
  Now we change the prompt to something more interesting:
</P><PRE
CLASS="PROGRAMLISTING"
>testdb=&gt; <KBD
CLASS="USERINPUT"
>\set PROMPT1 '%n@%m %~%R%# '</KBD
>
peter@localhost testdb=&gt;</PRE
><P>
  Let's assume you have filled the table with data and want to take a
  look at it:
</P><PRE
CLASS="PROGRAMLISTING"
>peter@localhost testdb=&gt; SELECT * FROM my_table;
 first | second
-------+--------
     1 | one
     2 | two
     3 | three
     4 | four
(4 rows)&#13;</PRE
><P>
  You can display tables in different ways by using the
  <TT
CLASS="COMMAND"
>\pset</TT
> command:
</P><PRE
CLASS="PROGRAMLISTING"
>peter@localhost testdb=&gt; <KBD
CLASS="USERINPUT"
>\pset border 2</KBD
>
Border style is 2.
peter@localhost testdb=&gt; <KBD
CLASS="USERINPUT"
>SELECT * FROM my_table;</KBD
>
+-------+--------+
| first | second |
+-------+--------+
|     1 | one    |
|     2 | two    |
|     3 | three  |
|     4 | four   |
+-------+--------+
(4 rows)

peter@localhost testdb=&gt; <KBD
CLASS="USERINPUT"
>\pset border 0</KBD
>
Border style is 0.
peter@localhost testdb=&gt; <KBD
CLASS="USERINPUT"
>SELECT * FROM my_table;</KBD
>
first second
----- ------
    1 one
    2 two
    3 three
    4 four
(4 rows)

peter@localhost testdb=&gt; <KBD
CLASS="USERINPUT"
>\pset border 1</KBD
>
Border style is 1.
peter@localhost testdb=&gt; <KBD
CLASS="USERINPUT"
>\pset format unaligned</KBD
>
Output format is unaligned.
peter@localhost testdb=&gt; <KBD
CLASS="USERINPUT"
>\pset fieldsep ","</KBD
>
Field separator is ",".
peter@localhost testdb=&gt; <KBD
CLASS="USERINPUT"
>\pset tuples_only</KBD
>
Showing only tuples.
peter@localhost testdb=&gt; <KBD
CLASS="USERINPUT"
>SELECT second, first FROM my_table;</KBD
>
one,1
two,2
three,3
four,4</PRE
><P>
  Alternatively, use the short commands:
</P><PRE
CLASS="PROGRAMLISTING"
>peter@localhost testdb=&gt; <KBD
CLASS="USERINPUT"
>\a \t \x</KBD
>
Output format is aligned.
Tuples only is off.
Expanded display is on.
peter@localhost testdb=&gt; <KBD
CLASS="USERINPUT"
>SELECT * FROM my_table;</KBD
>
-[ RECORD 1 ]-
first  | 1
second | one
-[ RECORD 2 ]-
first  | 2
second | two
-[ RECORD 3 ]-
first  | 3
second | three
-[ RECORD 4 ]-
first  | 4
second | four</PRE
><P></P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="app-pgrestore.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="app-reindexdb.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>pg_restore</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="reference-client.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><SPAN
CLASS="APPLICATION"
>reindexdb</SPAN
></TD
></TR
></TABLE
></DIV
></BODY
></HTML
>